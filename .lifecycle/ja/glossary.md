---
title:用語集
summary:TiDBに関する用語集。
aliases: ['/docs/dev/glossary/']
---

# 用語集

## A

### ACID

ACIDは、トランザクションの四つの主要な特性である原子性、一貫性、独立性、耐久性を指します。それぞれの特性について以下で説明します。

- **原子性**は、操作のすべての変更が実行されるか、または実行されないかのいずれかです。TiDBは、トランザクションの原子性を達成するために、プライマリキーを格納する[リージョン](#regionpeerraft-group)の原子性を保証します。

- **一貫性**は、トランザクションが常にデータベースを一貫した状態から別の一貫した状態にすることを意味します。TiDBでは、データを書き込む前にデータの整合性が確保されます。

- **独立性**は、実行中のトランザクションが完了するまで他のトランザクションから見えないことを意味します。これにより、一貫性を犠牲にすることなく、並行トランザクションでデータの読み取りと書き込みを行うことができます。TiDBは現在、`REPEATABLE READ`の分離レベルをサポートしています。

- **耐久性**は、トランザクションがコミットされると、システムの障害が発生してもコミットが保持されることを意味します。TiKVは永続ストレージを使用して耐久性を確保します。

## B

### バッチ作成テーブル

バッチ作成テーブルは、TiDB v6.0.0で導入された機能です。この機能はデフォルトで有効になっています。BR（バックアップとリストア）を使用して大量のテーブル（約50000個）のデータをリストアする場合、バッチ処理によりテーブルの作成プロセスを大幅に高速化することができます。詳細については、[バッチ作成テーブル](/br/br-batch-create-table.md)を参照してください。

### ベースラインキャプチャ

ベースラインキャプチャは、キャプチャ条件を満たすクエリをキャプチャし、それらに対してバインディングを作成する機能です。これは、[アップグレード中の実行計画の回帰を防止するために使用されます](/sql-plan-management.md#prevent-regression-of-execution-plans-during-an-upgrade)。

### バケット

[リージョン](#regionpeerraft-group)は、「バケット」と呼ばれるいくつかの小さな範囲に論理的に分割されます。TiKVはバケットごとにクエリの統計情報を収集し、バケットのステータスをPDに報告します。詳細については、[バケット設計ドキュメント](https://github.com/tikv/rfcs/blob/master/text/0082-dynamic-size-region.md#bucket)を参照してください。

## C

### キャッシュテーブル

キャッシュテーブル機能により、TiDBはテーブル全体のデータをTiDBサーバーのメモリに読み込みます。そして、TiDBはTiKVにアクセスせず、メモリから直接テーブルデータを取得します。これにより、読み取り性能が向上します。

### パーティションの結合

パーティションの結合は、ハッシュまたはキーパーティションテーブルのパーティションの数を減らす方法です。詳細については、[ハッシュとキーパーティションの管理](/partitioned-table.md#manage-hash-and-key-partitions)を参照してください。

### 継続的プロファイリング

TiDB 5.3.0で導入された継続的プロファイリングは、システムコールレベルのリソースオーバーヘッドを観察する方法です。継続的プロファイリングのサポートにより、TiDBはデータベースのソースコードを直接確認するのと同じように明確なパフォーマンス洞察を提供し、フレームグラフを使用してパフォーマンスの問題の原因を特定するのにR&Dおよび運用保守スタッフを支援します。詳細については、[TiDBダッシュボードインスタンスプロファイリングの継続的プロファイリング](/dashboard/continuous-profiling.md)を参照してください。

## D

### ダイナミックプルーニング

ダイナミックプルーニングモードは、TiDBがパーティションテーブルにアクセスするモードの一つです。ダイナミックプルーニングモードでは、各演算子は複数のパーティションに直接アクセスすることができます。そのため、TiDBはUnionを使用しません。Union操作を省略することで、実行効率が向上し、Unionの同時実行の問題を回避することができます。

## I

### インデックスマージ

インデックスマージは、表にアクセスするためのTiDB v4.0で導入された方法です。この方法を使用すると、TiDBのオプティマイザは各インデックスごとに返される結果をマージすることができます。特定のシナリオでは、この方法によりテーブル全体のスキャンを回避することで、クエリの効率を向上させることができます。v5.4以降、インデックスマージはGA機能になりました。

### インメモリ悲観ロック

インメモリ悲観ロックは、TiDB v6.0.0で導入された新機能です。この機能が有効になっている場合、悲観的ロックは通常、リージョンリーダーのメモリにのみ格納され、ディスクに永続化されず、Raftを介して他のレプリカに複製されません。この機能により、悲観的ロックの取得にかかるオーバーヘッドを大幅に削減し、悲観的トランザクションのスループットを向上させることができます。

## L

### リーダー/フォロワー/リーナー

リーダー/フォロワー/リーナーは、[ピア](#regionpeerraft-group)のRaftグループにおける役割をそれぞれ示します。リーダーはすべてのクライアントリクエストを処理し、データをフォロワーに複製します。グループリーダーが故障した場合、フォロワーの1つが新しいリーダーに選出されます。リーナーは、レプリカの追加プロセスでのみ使用される投票できないフォロワーです。

## M

### MPP

v5.0から、TiDBはTiFlashノードを介した大規模な結合クエリの実行ワークロードを共有するためのMassively Parallel Processing（MPP）アーキテクチャを導入しました。MPPモードが有効になっている場合、TiDBはコストに基づいて計算を実行するかどうかを判断します。MPPモードでは、計算中にExchange操作を介して結合キーが再分配されます。これにより、計算圧力を各TiFlashノードに分散させ、計算速度を向上させることができます。詳細については、[TiFlash MPPモードの使用](/tiflash/use-tiflash-mpp-mode.md)を参照してください。

## O

### 旧値

TiCDCが出力する増分変更ログに含まれる「元の値」です。TiCDCが出力する増分変更ログに元の値を含めるかどうかを指定することができます。

### オペレータ

オペレータは、スケジューリングの目的のためにリージョンに適用されるアクションの集合です。オペレータは「リージョンのリーダーをストア5に移動する」と「リージョン2のレプリカをストア1、4、5に移動する」といったスケジューリングタスクを実行します。

オペレータは[scheduler](#scheduler)によって計算および生成されるか、または外部APIによって作成されることがあります。

### オペレータステップ

オペレータステップは、オペレータの実行のステップです。オペレータは通常、複数のオペレータステップを含みます。

現在、PDによって生成される利用可能なステップは次のとおりです。

- `TransferLeader`: 指定されたメンバーにリーダーシップを移管します。
- `AddPeer`: 指定されたストアにピアを追加します。
- `RemovePeer`: リージョンのピアを削除します。
- `AddLearner`: 指定したストアにリーナーを追加します。
- `PromoteLearner`: 指定されたリーナーを投票メンバーに昇格させます。
- `SplitRegion`: 指定したリージョンを2つに分割します。

## P

### パーティショニング

[パーティショニング](/partitioned-table.md)は、テーブルをより小さなテーブルのパーティションに物理的に分割することを指します。パーティション化は、RANGE、LIST、HASH、およびKEYパーティションなどのパーティション方法によって行うことができます。

### pending/down

「Pending」と「down」は、ピアの2つの特別な状態です。Pendingは、フォロワーまたはリーナーのRaftログがリーダーのログと大幅に異なることを示します。Pendingのフォロワーはリーダーに選出されることはできません。「down」は、指定された時間内にリーダーに応答しなくなるという状態を指します。通常、対応するノードがダウンまたはネットワークから切断されていることを意味します。

### ポイントゲット

ポイントゲットとは、一意のインデックスまたはプライマリインデックスによって単一のデータ行を読み取ることを意味します。返される結果セットは最大一行です。

### 述語カラム

ほとんどの場合、SQLステートメントを実行するとき、オプティマイザは予測変数にもとづいて、(WHERE、JOIN、ORDER BY、GROUP BYステートメントなど)のいくつかのカラムの統計情報のみを使用します。これらの使用されるカラムは述語カラムと呼ばれます。詳細については、[一部の列の統計情報を収集](/statistics.md#collect-statistics-on-some-columns)を参照してください。

## Q

### クオータ制限

クオータ制限は、TiDB v6.0.0で導入された実験的な機能です。TiKVが展開されているマシンのリソースが制限されている場合、たとえば4v CPUと16 Gメモリしかなく、TiKVのフォアグラウンドで読み書きリクエストを処理しすぎると、バックグラウンドで使用されるCPUリソースを制限するために使用され、TiKVのパフォーマンスの安定性に影響を与えます。このような状況を避けるために、[クオータ関連の設定項目](/tikv-configuration-file.md#quota)を設定して、フォアグラウンドが使用するCPUリソースを制限することができます。

## R

### Raftエンジン

Raftエンジンは、ログ構造の設計を持つ埋め込み型永続ストレージエンジンです。このエンジンは、TiKVが複数のRaftログを格納するために構築されています。v5.4以降、TiDBはRaftエンジンをログストレージエンジンとして使用できるようになりました。詳細については、[Raftエンジン](/tikv-configuration-file.md#raft-engine)を参照してください。

### リージョン/ピア/Raftグループ

リージョンは、TiKVでの最小のデータストレージ単位であり、それぞれがデータの範囲（デフォルトでは96 MiB）を表します。各リージョンはデフォルトで3つのレプリカを持ちます。リージョンのレプリカはピアと呼ばれます。同じリージョンの複数のピアはRaftのコンセンサスアルゴリズムを介してデータを複製するため、ピアはRaftインスタンスのメンバーでもあります。TiKVはデータを管理するためにMulti-Raftを使用します。つまり、各リージョンには対応する分離されたRaftグループがあります。

### リージョンの分割

データの書き込みが増えると、リージョンが生成されます。分割リージョンとは、リージョンのサイズまたはキーの数が一定のしきい値に達するたびに、既存のリージョンを分割して新しいリージョンを生成するプロセスのことです。

リージョンの分割メカニズムは、1つの初期リージョンがキースペース全体をカバーし、リージョンのサイズまたはキーの数がしきい値に達するたびに既存のリージョンを分割して新しいリージョンを生成するというものです。

### リストア

```markdown
リストアはバックアップ操作の逆を行うものです。事前に準備されたバックアップからデータを復元することで、システムを以前の状態に戻すプロセスです。

## S

### スケジューラ

スケジューラはPD内のスケジューリングタスクを生成するコンポーネントです。PD内の各スケジューラは独立して実行され、異なる目的で使用されます。一般的に使用されるスケジューラは以下の通りです:

- `balance-leader-scheduler`: リーダーの分布を調整します
- `balance-region-scheduler`: ピアの分布を調整します
- `hot-region-scheduler`: ホットリージョンの分布を調整します
- `evict-leader-{store-id}`: ノードの全てのリーダーを追い出します（通常はローリングアップグレードに使用されます）

### ストア

ストアはTiKVクラスタ内のストレージノード（`tikv-server`のインスタンス）を指します。各ストアには対応するTiKVインスタンスがあります。

## T

### トップSQL

トップSQLは、指定された時間範囲内でTiDBまたはTiKVノードの負荷に貢献するSQLクエリを特定するのに役立ちます。詳細については、[トップSQLユーザードキュメント](/dashboard/top-sql.md)を参照してください。

### TSO

TiKVは分散ストレージシステムであるため、単調増加するタイムスタンプを割り当てるために、グローバルなタイミングサービスであるタイムスタンプオラクル（TSO）が必要です。TiKVでは、このような機能はPDによって提供され、Googleの[Spanner](http://static.googleusercontent.com/media/research.google.com/en//archive/spanner-osdi2012.pdf)では、複数の原子時計とGPSによって提供されています。

### TTL

[生存期間（TTL）](/time-to-live.md)は、行レベルでTiDBデータの寿命を管理する機能です。TTL属性を持つテーブルの場合、TiDBは自動的にデータの寿命を確認し、行レベルで期限切れのデータを削除します。
```