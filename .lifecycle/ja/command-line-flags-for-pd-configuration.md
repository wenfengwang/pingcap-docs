---
title: PDの設定フラグ
summary: PDの設定フラグについて学びます。
aliases: ['/docs/dev/command-line-flags-for-pd-configuration/','/docs/dev/reference/configuration/pd-server/configuration/']
---

# PDの設定フラグ

PDはコマンドラインフラグや環境変数を使用して設定できます。

## `--advertise-client-urls`

- PDへアクセスするためのクライアントへの広告URLのリスト
- デフォルト: `"${client-urls}"`
- DockerやNATネットワーク環境など、PDによって待機中のデフォルトのクライアントURLを通じてクライアントがPDにアクセスできない場合、広告クライアントURLを手動で設定する必要があります。
- 例えば、Dockerの内部IPアドレスが`172.17.0.1`であり、ホストのIPアドレスが`192.168.100.113`でポートマッピングが`-p 2379:2379`に設定されている場合、`--advertise-client-urls`を`"http://192.168.100.113:2379"`に設定します。クライアントはこのサービスを`"http://192.168.100.113:2379"`経由で見つけることができます。

## `--advertise-peer-urls`

- 他のPDノード（ピア）がPDノードにアクセスするための広告URLのリスト
- デフォルト: `"${peer-urls}"`
- DockerやNATネットワーク環境など、このPDノードが待機中のデフォルトのピアURLを通じて他のノード（ピア）がPDノードにアクセスできない場合、広告ピアURLを手動で設定する必要があります。
- 例えば、Dockerの内部IPアドレスが`172.17.0.1`であり、ホストのIPアドレスが`192.168.100.113`でポートマッピングが`-p 2380:2380`に設定されている場合、`--advertise-peer-urls`を`"http://192.168.100.113:2380"`に設定します。他のPDノードはこのサービスを`"http://192.168.100.113:2380"`経由で見つけることができます。

## `--client-urls`

- PDが待機するクライアントURLのリスト
- デフォルト: `"http://127.0.0.1:2379"`
- クラスターを展開する場合、現在のホストのIPアドレスを`--client-urls`として指定する必要があります（例: `"http://192.168.100.113:2379"`）。クラスターがDockerで実行される場合は、DockerのIPアドレスを`"http://0.0.0.0:2379"`として指定します。

## `--peer-urls`

- PDノードが待機するピアURLのリスト
- デフォルト: `"http://127.0.0.1:2380"`
- クラスターを展開する場合、`--peer-urls`を現在のホストのIPアドレスとして指定する必要があります（例: `"http://192.168.100.113:2380"`）。クラスターがDockerで実行される場合は、DockerのIPアドレスを`"http://0.0.0.0:2380"`として指定します。

## `--config`

- 設定ファイル
- デフォルト: `""`
- コマンドラインで設定を行う場合、構成ファイルの同じ設定が上書きされます。

## `--data-dir`

- データディレクトリへのパス
- デフォルト: `"default.${name}"`

## `--initial-cluster`

- ブートストラップ用の初期クラスター構成
- デフォルト: `"{name}=http://{advertise-peer-url}"`
- 例えば、`name`が"pd"であり、`advertise-peer-urls`が`"http://192.168.100.113:2380"`である場合、`initial-cluster`は`"pd=http://192.168.100.113:2380"`となります。
- 3つのPDサーバーを起動する必要がある場合、`initial-cluster`は次のようになる可能性があります:

    ```
    pd1=http://192.168.100.113:2380, pd2=http://192.168.100.114:2380, pd3=192.168.100.115:2380
    ```

## `--join`

- クラスターに動的に参加する
- デフォルト: `""`
- 既存のクラスターに参加する場合、`--join="${advertise-client-urls}"`を使用できます。`advertise-client-url`は既存のPDのもので、複数の広告クライアントURLはカンマ区切りで分けます。

## `-L`

- ログレベル
- デフォルト: `"info"`
- オプションの値: `"debug"`, `"info"`, `"warn"`, `"error"`, `"fatal"`

## `--log-file`

- ログファイル
- デフォルト: `""`
- このフラグが設定されていない場合、ログは"stderr"に書き込まれます。このフラグが設定されている場合、ログは対応するファイルに出力されます。

## `--log-rotate`

- ログのローテーションを有効または無効にする
- デフォルト: `true`
- 値がtrueの場合、PD構成ファイルの`[log.file]`に従います。

## `--name`

- このPDメンバーの人間が読める一意の名前
- デフォルト: `"pd"`
- 複数のPDを起動する場合、それぞれに異なる名前を使用する必要があります。

## `--cacert`

- TLSを有効にするために使用されるCAのファイルパス
- デフォルト: `""`

## `--cert`

- X509証明書を含むPEMファイルのパス、TLSを有効にするために使用されます
- デフォルト: `""`

## `--key`

- X509キーを含むPEMファイルのパス、TLSを有効にするために使用されます
- デフォルト: `""`

## `--metrics-addr`

- デフォルトではPrometheusにデータをプッシュしないPrometheus Pushgatewayのアドレス
- デフォルト: `""`