---
title: エラーコードとトラブルシューティング
summary: TiDBのエラーコードと解決策について学びます。
aliases: ['/docs/dev/error-codes/','/docs/dev/reference/error-codes/']
---

# エラーコードとトラブルシューティング

本書では、TiDBの使用中に遭遇する問題について説明し、それに対する解決策を提供します。

## エラーコード

TiDBはMySQLのエラーコードと互換性があり、ほとんどの場合MySQLと同じエラーコードを返します。MySQLのエラーコードのリストについては、[MySQL 5.7エラーメッセージリファレンス](https://dev.mysql.com/doc/mysql-errors/5.7/en/)を参照してください。さらに、TiDBには以下の固有のエラーコードがあります。

> **注意:**
>
> 一部のエラーコードは内部エラーを表しています。通常、TiDBはエラーをユーザーに返さず、エラーコードがここにリストされていないことがあります。
>
> ここにリストされていないエラーコードが発生した場合は、[PingCAP社またはコミュニティ](/support.md)からサポートを入手してください。

* エラー番号: 8001

    リクエストによって使用されるメモリがTiDBメモリ使用量の閾値を超えた場合に発生します。

    システム変数[`tidb_mem_quota_query`](/system-variables.md#tidb_mem_quota_query)を構成して、単一のSQLステートメントのメモリ制限を増やしてください。

* エラー番号: 8002

    `SELECT FOR UPDATE` ステートメントを含むトランザクションは一貫性を保証するため、競合が発生した場合に再試行できません。TiDBはトランザクションをロールバックしてこのエラーを返します。

    アプリケーションはトランザクション全体を安全に再試行できます。

* エラー番号: 8003

    [`ADMIN CHECK TABLE`](/sql-statements/sql-statement-admin-check-table-index.md)コマンドを実行する際、行のデータがインデックスと一致しないと、TiDBはこのエラーを返します。通常、このエラーはテーブルのデータ破損をチェックする際に見られます。

    [PingCAP社またはコミュニティ](/support.md)からサポートを入手してください。

* エラー番号: 8004

    単一のトランザクションが大きすぎます。

    原因と解決策については、[エラーメッセージ `transaction too large`](/faq/migration-tidb-faq.md#the-error-message-transaction-too-large-is-displayed)を参照してください。

* エラー番号: 8005

    完全なエラーメッセージ: `ERROR 8005 (HY000): Write Conflict, txnStartTS is stale`

    TiDBのトランザクションで書き込みが競合した場合に発生します。アプリケーションのロジックを確認し、書き込み操作を再試行してください。

* エラー番号: 8018

    プラグインを再読み込みする際、プラグインが以前に読み込まれていない場合にこのエラーが返されます。

    プラグインを初期読み込みしてください。

* エラー番号: 8019

    再読み込みされるプラグインのバージョンが以前のバージョンと異なるため、プラグインを再読み込みできず、このエラーが返されます。

    プラグインのバージョンが前回と同じであることを確認して、プラグインを再読み込みしてください。

* エラー番号: 8020

    テーブルがロックされている場合、そのテーブルで書き込み操作を実行すると、このエラーが返されます。

    テーブルのロックを解除し、書き込み操作を再試行してください。

* エラー番号: 8021

    TiKVから読み取るためのキーが存在しない場合、このエラーが返されます。このエラーは内部で使用され、外部結果は空の読み取りです。

* エラー番号: 8022

    トランザクションのコミットが失敗し、ロールバックされました。

    アプリケーションはトランザクション全体を安全に再試行できます。

* エラー番号: 8023

    トランザクションキャッシュに空の値を設定した場合、このエラーが返されます。このエラーは内部で使用され、アプリケーションには返されません。

* エラー番号: 8024

    無効なトランザクションです。TiDBは、実行中のトランザクションに対してトランザクションID（開始タイムスタンプ）を取得できないことを検出した場合に、このエラーが返されます。通常、このエラーは発生しません。このエラーが発生した場合は、[PingCAP社またはコミュニティ](/support.md)からサポートを入手してください。

* エラー番号: 8025

    書き込もうとしている単一のキー値ペアが大きすぎます。TiDBでサポートされる最大の単一のキー値ペアのサイズはデフォルトで6MBです。この制限を緩和するために、[`txn-entry-size-limit`](/tidb-configuration-file.md#txn-entry-size-limit-new-in-v50)構成値を適切に調整する必要があります。

* エラー番号: 8026

    使用されているインタフェース関数が実装されていません。このエラーは内部でのみ使用され、アプリケーションには返されません。

* エラー番号: 8027

    テーブルのスキーマバージョンが古くなっています。TiDBはスキーマ変更をオンラインで適用します。TiDBサーバーのテーブルスキーマバージョンがシステム全体のスキーマバージョンよりも古い場合、このエラーが発生します。

    このエラーが発生した場合は、TiDBサーバーとPDリーダー間のネットワークを確認してください。

* エラー番号: 8028

    v6.3.0以降、TiDBは[Metadata lock](/metadata-lock.md)機能を導入しています。メタデータロックが無効になっている場合にトランザクションが実行され、トランザクションがテーブルスキーマの変更を認識できません。したがって、トランザクションがコミットされる際に、TiDBはこのエラーでトランザクションのスキーマに関連するテーブルスキーマをチェックします。関連するテーブルスキーマが実行中に変更されている場合、このエラーでトランザクションのコミットが失敗します。この時、アプリケーションはトランザクション全体を安全に再試行できます。

    メタデータロックがRead Committed分離レベルで無効になっている場合は、テーブル上で損失のあるカラムタイプの変更（たとえば、`INT`から`CHAR`への変更は損失があるが、`TINYINT`から`INT`への変更はデータの上書きが必要ないため損失は発生しない）がトランザクション開始から最初のアクセスまでの間に発生すると、クエリが失敗しますが、トランザクションは自動的にロールバックされません。他のステートメントを実行し続けて、トランザクションのロールバックまたはコミットを決定することができます。

* エラー番号: 8029

    データベース内で数値変換にエラーが発生した場合に発生します。このエラーは内部でのみ使用され、外部アプリケーション向けに特定のタイプのエラーに変換されます。

* エラー番号: 8030

    正の整数が符号付き整数に変換されて最大値を超え、負の整数として表示された場合に発生します。このエラーは、アラートメッセージでほとんど発生します。

* エラー番号: 8031

    負の整数が符号なし整数に変換され、正の整数として表示された場合に発生します。このエラーは、アラートメッセージでほとんど発生します。

* エラー番号: 8032

    無効な `year` フォーマットが使用されました。`year` は1、2、または4桁の数字のみを受け付けます。

* エラー番号: 8033

    無効な `year` 値が使用されました。`year` の有効範囲は(1901, 2155)です。

* エラー番号: 8037

    `week` 関数において無効な `mode` フォーマットが使用されました。`mode` は[0, 7]内の1桁の数字でなければなりません。

* エラー番号: 8038

    フィールドがデフォルト値を取得できませんでした。このエラーは通常、内部で使用され、外部アプリケーション向けに特定のタイプのエラーに変換されます。

* エラー番号: 8040

    サポートされていない操作が実行されました。例えば、ビューまたはシーケンスにテーブルロック操作を実行した場合。

* エラー番号: 8047

    システム変数の値がサポートされていません。このエラーは通常、ユーザーがデータベースでサポートされていない値を設定した場合に発生します。

* エラー番号: 8048

    サポートされていないデータベース分離レベルが設定されました。

    サードパーティのツールやフレームワークを使用してコードを変更できない場合、[`tidb_skip_isolation_level_check`](/system-variables.md#tidb_skip_isolation_level_check)を使用してこのチェックをバイパスすることを検討してください。

    {{< copyable "sql" >}}

    ```sql
    set @@tidb_skip_isolation_level_check = 1;
    ```

* エラー番号: 8050

    サポートされていない権限タイプが設定されました。

    解決策については、[TiDB操作に必要な特権](/privilege-management.md#privileges-required-for-tidb-operations)を参照してください。

* エラー番号: 8051

    クライアントが送信するExec引数リストをTiDBが解析する際に不明なデータ型がエンカウントされました。

    このエラーが発生した場合は、クライアントを確認してください。クライアントが正常であれば、[PingCAP社またはコミュニティ](/support.md)からサポートを入手してください。

* エラー番号: 8052

    クライアントからのデータパケットのシリアル番号が正しくない場合に発生します。

    このエラーが発生した場合は、クライアントを確認してください。クライアントが正常であれば、[PingCAP社またはコミュニティ](/support.md)からサポートを入手してください。

* エラー番号: 8055

    現在のスナップショットが古すぎます。データがガベージコレクションされた可能性があります。この問題を避けるためには、[`tidb_gc_life_time`](/system-variables.md#tidb_gc_life_time-new-in-v50)の値を増やすことができます。TiDBは長期実行トランザクションのためにデータを自動的に予約します。通常、このエラーは発生しません。

    [ガベージコレクションの概要](/garbage-collection-overview.md)および[ガベージコレクション構成](/garbage-collection-configuration.md)を参照してください。

* エラー番号: 8059
自動ランダムIDが使い果たされ、割り当てることができません。現在、このようなエラーから回復する方法はありません。自動ランダム機能を使用する際には、大きな整数（bigint）を使用して、最大数の割り当てを取得することをお勧めします。また、自動ランダムカラムに手動で値を割り当てないようにすることをお勧めします。

[自動ランダム](/auto-random.md)を参照してください。

* エラーナンバー: 8060

    無効な自動増分オフセットです。`auto_increment_increment`および`auto_increment_offset`の値を確認してください。

* エラーナンバー: 8061

    サポートされていないSQLヒントです。

    SQLヒントを確認し、修正するには[Optimizer Hints](/optimizer-hints.md)を参照してください。

* エラーナンバー: 8062

    SQLヒントで無効なトークンが使用されています。これはSQLヒントで予約語と競合しています。

    SQLヒントを確認し、修正するには[Optimizer Hints](/optimizer-hints.md)を参照してください。

* エラーナンバー: 8063

    SQLヒントで設定された制限されたメモリ使用量がシステムの上限を超えています。SQLヒントでの設定は無視されます。

    SQLヒントを確認し、修正するには[Optimizer Hints](/optimizer-hints.md)を参照してください。

* エラーナンバー: 8064

    SQLヒントを解析できません。

    SQLヒントを確認し、修正するには[Optimizer Hints](/optimizer-hints.md)を参照してください。

* エラーナンバー: 8065

    SQLヒントで無効な整数が使用されています。

    SQLヒントを確認し、修正するには[Optimizer Hints](/optimizer-hints.md)を参照してください。

* エラーナンバー: 8066

    `JSON_OBJECTAGG` 関数の第二パラメーターが無効です。

* エラーナンバー: 8101

    プラグインIDの形式が正しくありません。

    正しい形式は `[name]-[version]` であり、`name`および`version`には`-`を使用できません。

* エラーナンバー: 8102

    プラグイン定義情報を読み取れません。

    プラグインに関連する設定を確認してください。

* エラーナンバー: 8103

    プラグイン名が正しくありません。

    プラグインの設定を確認してください。

* エラーナンバー: 8104

    プラグインのバージョンが一致しません。

    プラグインの設定を確認してください。

* エラーナンバー: 8105

    プラグインが繰り返しロードされています。

* エラーナンバー: 8106

    プラグインがプラグイン名で始まらないシステム変数を定義しています。

    プラグインの開発者に連絡して修正するか、またはPingCAPまたはコミュニティから[サポートを受け](/support.md)てください。

* エラーナンバー: 8107

    ロードされたプラグインにはバージョンが指定されておらず、または指定されたバージョンが低すぎます。

    プラグインの設定を確認してください。

* エラーナンバー: 8108

    サポートされていない実行計画タイプです。このエラーは内部エラーです。

    このエラーに遭遇した場合は、PingCAPまたはコミュニティから[サポートを受け](/support.md)てください。

* エラーナンバー: 8109

    インデックスが分析される際、指定されたインデックスが見つかりません。

* エラーナンバー: 8110

    直積演算を実行できません。

    設定で`cross-join`を`true`に設定してください。

* エラーナンバー: 8111

    `EXECUTE`文を実行する際に、対応する`PREPARE`文が見つかりません。

* エラーナンバー: 8112

    `EXECUTE`文でのパラメーター数が`PREPARE`文と一致しません。

* エラーナンバー: 8113

    `PREPARE`文が実行された後に`EXECUTE`文で関連するテーブルスキーマが変更されています。

* エラーナンバー: 8115

    複数行の文を準備することはサポートされていません。

* エラーナンバー: 8116

    DDL文を準備することはサポートされていません。

* エラーナンバー: 8120

    トランザクションの`start tso`を取得できません。

    PDサーバーの状態/モニター/ログとTiDBサーバーとPDサーバーのネットワークを確認してください。

* エラーナンバー: 8121

    権限のチェックに失敗しました。

    データベースの権限設定を確認してください。

* エラーナンバー: 8122

    指定されたワイルドカードで一致するテーブル名が見つかりません。

* エラーナンバー: 8123

    集約関数を含むSQLクエリが非集約列を返し、`only_full_group_by`モードに違反しています。

    SQL文を変更するか、`only_full_group_by`モードを無効にしてください。

* エラーナンバー: 8129

    TiDBは、キー長が65536以上のJSONオブジェクトをまだサポートしていません。

* エラーナンバー: 8130

    完全なエラーメッセージ: `ERROR 8130 (HY000): client has multi-statement capability disabled`

    このエラーは、以前のバージョンからアップグレードした後に発生する可能性があります。SQLインジェクション攻撃の影響を軽減するために、TiDBはデフォルトで同じ`COM_QUERY`呼び出しで複数のクエリを実行する機能を無効にします。

    システム変数[`tidb_multi_statement_mode`](/system-variables.md#tidb_multi_statement_mode-new-in-v4011)を使用してこの動作を制御できます。

* エラーナンバー: 8138

    トランザクションが誤った行値を書き込もうとしています。詳細については、[データとインデックスの不整合をトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8138)を参照してください。

* エラーナンバー: 8139

    トランザクションが、行のハンドルがインデックス内のものと一致しない行を書こうとしています。詳細については、[データとインデックスの不整合をトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8139)を参照してください。

* エラーナンバー: 8140

   トランザクションが、データがインデックスデータと一致しない行を書こうとしています。詳細については、[データとインデックスの不整合をトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8140)を参照してください。

* エラーナンバー: 8141

    トランザクションがコミットされている間に、キーの存在アサーションが失敗しました。詳細については、[データとインデックスの不整合をトラブルシューティング](/troubleshoot-data-inconsistency-errors.md#error-8141)を参照してください。

* エラーナンバー: 8143

    トランザクションで非トランザクション性のあるDML文を実行している場合、バッチが失敗するとその文は停止されます。詳細については、[非トランザクショナルDML文](/non-transactional-dml.md)を参照してください。

* エラーナンバー: 8147

    [`tidb_constraint_check_in_place_pessimistic`](/system-variables.md#tidb_constraint_check_in_place_pessimistic-new-in-v630)が`OFF`に設定されている場合、トランザクションの正確性を保証するため、SQL文の実行時のエラーはTiDBにこの`8147`エラーを返し、現在のトランザクションを中止します。エラーの特定の原因については、エラーメッセージを参照してください。詳細については、[Constraints](/constraints.md#pessimistic-transactions)を参照してください。

* エラーナンバー: 8154

    現在、`LOAD DATA`ではTiDBサーバーからローカルにデータをインポートすることはサポートされていません。クライアントからインポートするには`LOCAL`を指定するか、データをS3またはGCSにアップロードしてからインポートしてください。[`LOAD DATA`](/sql-statements/sql-statement-load-data.md)を参照してください。

* エラーナンバー: 8156

    指定したパスは空にできません。インポート前に正しいパスを設定する必要があります。

* エラーナンバー: 8157

    提供されたファイル形式はサポートされていません。サポートされている形式については、[`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#format)を参照してください。

* エラーナンバー: 8158

    提供されたパスは無効です。特定のエラーメッセージに関するアクションについては、[外部ストレージサービスのURIフォーマット](/external-storage-uri.md)を参照してください。

* エラーナンバー: 8159

    TiDBは提供されたAmazon S3またはGCSのパスにアクセスできません。指定したS3またはGCSバケットが存在し、TiDBが対応するバケットにアクセスするための正しいアクセスキーとシークレットアクセスキーを提供していることを確認してください。

* エラーナンバー: 8160

    データファイルを読み取れませんでした。特定のエラーメッセージに関するアクションについては、参照してください。

* エラーナンバー: 8162

    ステートメントにエラーがあります。特定のエラーメッセージに関するアクションについては、参照してください。

* エラーナンバー: 8163

    提供されたオプションは未知です。サポートされているオプションについては、[`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#parameter-description)を参照してください。

* エラーナンバー: 8164

    提供されたオプション値は無効です。有効な値については、[`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#parameter-description)を参照してください。

* エラーナンバー: 8165

    重複したオプションが指定されています。各オプションは1度しか指定できません。

* エラーナンバー: 8166

    特定のオプションは特定の条件でのみ使用できます。特定のエラーメッセージに関するアクションについては、[`IMPORT INTO`](/sql-statements/sql-statement-import-into.md#parameter-description)を参照してください。

* エラーナンバー: 8170

    指定されたジョブが存在しません。

* エラーナンバー: 8171

    現在のジョブステータスでは、現在のオペレーションを実行できません。特定のエラーメッセージに関するアクションについては、参照してください。
* エラー番号: 8173

    `IMPORT INTO` を実行する際、TiDB は下流のテーブルが空であるかどうかなど現在の環境をチェックします。具体的なエラーメッセージを参照してください。

* エラー番号: 8200

    まだDDL構文はサポートされていません。

    参考にMySQL DDLの[互換性](/mysql-compatibility.md#ddl-operations)をご覧ください。

* エラー番号: 8214

    `admin cancel` 操作によってDDL操作が中断されました。

* エラー番号: 8215

    [`ADMIN REPAIR TABLE`](/sql-statements/sql-statement-admin.md#admin-repair-statement) が失敗しました。

    このエラーが発生した場合は、PingCAPまたはコミュニティから[サポートを取得](/support.md)してください。

* エラー番号: 8216

    自動ランダムカラムの使用方法が正しくありません。

    修正するには[auto random](/auto-random.md) を参照してください。

* エラー番号: 8223

    データがインデックスと一致しないことが検出された場合にこのエラーが発生します。

    このエラーが発生した場合は、PingCAPまたはコミュニティから[サポートを取得](/support.md)してください。

* エラー番号: 8224

    DDLジョブが見つかりません。

    `restore` 操作で指定されたジョブIDが存在するかどうかを確認してください。

* エラー番号: 8225

    DDL操作は完了し、キャンセルできません。

* エラー番号: 8226

    DDL操作はほぼ完了し、キャンセルできません。

* エラー番号: 8227

    シーケンスの作成時にサポートされていないオプションが使用されています。

    サポートされているオプションのリストを見るには[シーケンスのドキュメント](/sql-statements/sql-statement-create-sequence.md#parameters)をご覧ください。

* エラー番号: 8228

    `setval` を使用する際にサポートされていないタイプが指定されています。

    関数の例を見るには[シーケンスのドキュメント](/sql-statements/sql-statement-create-sequence.md#examples)をご覧ください。

* エラー番号: 8229

    トランザクションが生存時間を超過しました。

    現在のトランザクションをコミットまたはロールバックし、新しいトランザクションを開始してください。

* エラー番号: 8230

    TiDBは、新しく追加された列のデフォルト値としてシーケンスを使用することを現在サポートしていません。このエラーが発生した場合は、これを使用する場合の[エラーメッセージ `transaction too large`](/faq/migration-tidb-faq.md#the-error-message-transaction-too-large-is-displayed)をご覧ください。

* エラー番号: 8248

    リソースグループは既に存在します。このエラーはリソースグループが繰り返し作成された場合に返されます。

* エラー番号: 8249

    リソースグループが存在しません。存在しないリソースグループを修正またはバインドした場合にこのエラーが返されます。[リソースグループの作成](/tidb-resource-control.md#create-a-resource-group) をご覧ください。

* エラー番号: 8250

    完全なエラーメッセージは以下の通りです:

    `ERROR 8250 (HY000) : リソースコントロール機能は無効です。"SET GLOBAL tidb_enable_resource_control='on'"を実行して機能を有効にしてください`

    このエラーは、リソースコントロール機能を使用しようとしたが有効になっていない場合に返されます。リソースコントロールを有効にするためにグローバル変数[`tidb_enable_resource_control`](/system-variables.md#tidb_enable_resource_control-new-in-v660)をオンにしてください。

* エラー番号: 8251

    `リソース制御` コンポーネントは、TiDBの起動時に初期化されます。`リソース制御` のサーバーサイドに関連する構成は、`リソースマネージャ` から取得されます。このプロセスでエラーが発生すると、このエラーが返されます。

* エラー番号: 8252

    完全なエラーメッセージは以下の通りです:

    `ERROR 8252 (HY000) : リソースグループの割り当て制限を超えました`

    このエラーは、試行された消費がリソースグループの制限を超えた場合に返されます。通常、これは大規模な単一のトランザクションか同時トランザクションの数が多いことが原因です。トランザクションサイズを調整するか、同時クライアントの数を減らす必要があります。

* エラー番号: 8253

    クエリが暴走クエリの条件に適合したため、クエリが停止しました。[暴走クエリ](/tidb-resource-control.md#manage-queries-that-consume-more-resources-than-expected-runaway-queries) をご覧ください。

* エラー番号: 8254

    クエリが暴走クエリの検疫条件に適合したため、クエリが停止しました。[暴走クエリ](/tidb-resource-control.md#manage-queries-that-consume-more-resources-than-expected-runaway-queries) をご覧ください。

* エラー番号: 8260

    `ADMIN PAUSE` でDDL操作を一時停止できません。

* エラー番号: 8261

    `ADMIN RESUME` でDDL操作を再開できません。

* エラー番号: 8262

    `ADMIN PAUSE` によってDDL操作が一時停止され、再度一時停止できません。

* エラー番号: 9001

    完全なエラーメッセージ: `ERROR 9001 (HY000): PD Server Timeout`

    PDリクエストがタイムアウトしました。

    PDサーバーの状態、モニタリングデータ、およびTiDBサーバーとPDサーバーの間のネットワークを確認してください。

* エラー番号: 9002

    完全なエラーメッセージ: `ERROR 9002 (HY000): TiKV Server Timeout`

    TiKVリクエストがタイムアウトしました。

    TiKVサーバーの状態、モニタリングデータ、およびTiDBサーバーとTiKVサーバーの間のネットワークを確認してください。

* エラー番号: 9003

    完全なエラーメッセージ: `ERROR 9003 (HY000): TiKV Server is Busy`

    TiKVサーバーがビジー状態にあり、これは通常、ワークロードが過剰な場合に発生します。

    TiKVサーバーの状態、モニタリングデータ、およびログを確認してください。

* エラー番号: 9004

    完全なエラーメッセージ: `ERROR 9004 (HY000): Resolve Lock Timeout`

    ロックの解決がタイムアウトしました。これは大量のトランザクションの競合がデータベースに存在する場合に発生します。

    データベース内でロックの競合が存在するかどうかを確認するために、アプリケーションコードをチェックしてください。

* エラー番号: 9005

    完全なエラーメッセージ: `ERROR 9005 (HY000): Region is unavailable`

    アクセスしたリージョンまたは特定のRaftグループが利用できません。可能な理由としては、レプリカが不足していることなどが挙げられます。このエラーは通常、TiKVサーバーがビジー状態にあるか、TiKVノードがダウンしている場合に発生します。

    TiKVサーバーの状態、モニタリングデータおよびログを確認してください。

* エラー番号: 9006

    完全なエラーメッセージ: `ERROR 9006 (HY000): GC life time is shorter than transaction duration`

    `GC Life Time` の間隔が短すぎます。長いトランザクションで読み取られるべきデータが削除されてしまう可能性があります。以下のコマンドを使用して [`tidb_gc_life_time`](/system-variables.md#tidb_gc_life_time-new-in-v50) を調整できます:

    ```sql
    SET GLOBAL tidb_gc_life_time = '30m';
    ```

    > **注意:**
    >
    > "30m" は、30分前に生成されたデータのクリーンアップのみを意味し、余分なストレージ容量を消費する可能性があります。

* エラー番号: 9500

    単一のトランザクションが大きすぎます。

    解決策については、[エラーメッセージ `transaction too large`](/faq/migration-tidb-faq.md#the-error-message-transaction-too-large-is-displayed) をご覧ください。

* エラー番号: 9007

    エラーメッセージは `ERROR 9007 (HY000): Write conflict` で始まります。

    エラーメッセージに `reason=LazyUniquenessCheck` が含まれている場合、それはトランザクションが悲観的であり、`@@tidb_constraint_check_in_place_pessimistic=OFF` が設定されている場合、アプリケーションの一意のインデックスで書き込み競合が発生したことを意味します。この場合、悲観的なトランザクションの成功実行は保証されません。アプリケーションからトランザクションを再試行するか、エラーを回避するために変数を `ON` に設定できます。

* エラー番号: 9008

    同時にTiKVに送信されたリクエストが多すぎます。数が制限を超えています。

    `tidb_store_limit` を増やすか、上限を解除するためにそれを `0` に設定してください。

* エラー番号: 9010

    TiKVがこのRaftログを処理できません。

    TiKVサーバーの状態/監視/ログを確認してください。

* エラー番号: 9012

    TiFlashリクエストがタイムアウトしました。

    TiFlashサーバーとTiDBサーバーのネットワーク間、またはTiFlashサーバーの状態/監視/ログを確認してください。

* エラー番号: 9013

    TiFlashサーバーがビジー状態にあり、これは通常、ワークロードが過剰な場合に発生します。

    TiFlashサーバーの状態/監視/ログを確認してください。

### MySQLネイティブエラーメッセージ

* エラー番号: 2013 (HY000)

    完全なエラーメッセージ: `ERROR 2013 (HY000): Lost connection to MySQL server during query`

    このエラーに対処する方法は以下の通りです:

    - ログにパニックがあるかどうかをチェックしてください
    - `dmesg -T | grep -i oom` を使用して dmesg で OOMが存在するかどうかを確認してください
    - アクセスが長時間なかったことによってこのエラーが発生する可能性もあります。通常、これはTCPタイムアウトによるものです。 TCPが長時間使用されていないと、オペレーティングシステムがそれを終了させます。

* エラー番号: 1105 (HY000)
完全なエラーメッセージ： `ERROR 1105 (HY000): other error: unknown error Wire Error(InvalidEnumValue(4004))`

このエラーは通常、TiDBのバージョンがTiKVのバージョンと一致していない場合に発生します。バージョンの不一致を避けるためには、すべてのコンポーネントをアップグレードする際にバージョンをアップグレードしてください。

* エラー番号：1148 (42000)

完全なエラーメッセージ： `ERROR 1148 (42000): the used command is not allowed with this TiDB version`

`LOAD DATA LOCAL` ステートメントを実行しますが、MySQLクライアントがこのステートメントの実行を許可していない場合（`local_infile`オプションの値が0の場合）、このエラーが発生します。

解決策は、MySQLクライアントを起動する際に `--local-infile=1` オプションを使用することです。例えば、`mysql --local-infile=1 -u root -h 127.0.0.1 -P 4000` コマンドを実行します。`local-infile` のデフォルト値は、MySQLクライアントの異なるバージョンで異なります。そのため、特定のMySQLクライアントで構成する必要があります。

* エラー番号：9001 (HY000)

完全なエラーメッセージ： `ERROR 9001 (HY000): PD server timeout start timestamp may fall behind safe point`

このエラーは、TiDBがPDにアクセスに失敗した場合に発生します。TiDBバックグラウンドのワーカーは、PDからsafepointを継続的にクエリし、100秒以内にクエリに失敗した場合にこのエラーを報告します。一般的には、PDのディスクが遅くてビジーであるか、TiDBとPDの間でネットワークに障害があるためです。一般的なエラーの詳細については、[エラー番号と障害の診断](/error-codes.md) を参照してください。

* TiDBログのエラーメッセージ：EOFエラー

クライアントまたはプロキシがTiDBから切断されると、TiDBは切断を直ちには検知しません。代わりに、TiDBは接続にデータを返し始めた時点で切断を検知します。その際にログにEOFエラーが出力されます。

## トラブルシューティング

[トラブルシューティング](/troubleshoot-tidb-cluster.md) と [FAQ](/faq/tidb-faq.md) ドキュメントを参照してください。