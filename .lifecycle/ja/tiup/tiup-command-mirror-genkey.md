---
title: tiup ミラーキーの生成
---

# tiup mirror genkey

TiUP [ミラー](/tiup/tiup-mirror-reference.md)は、定義によると、3つのユーザーの役割があります。:

- ミラーの管理者：彼らは`root.json`、`index.json`、`snapshot.json`、および`timestamp.json`を変更する権限を持っています。
- コンポーネントの所有者：対応するコンポーネントを変更する権限を持っています。
- 通常のユーザー：コンポーネントをダウンロードして使用することができます。

TiUPはファイルの変更に対応するオーナー/管理者の署名が必要なため、所有者/管理者はそれぞれ独自のプライベートキーを持っている必要があります。`tiup mirror genkey`コマンドはプライベートキーを生成するために使用されます。

> **警告:**
>
> プライベートキーをインターネット経由で送信**しないでください**。

## 構文

```shell
tiup mirror genkey [flags]
```

## Options

### -n, --name

- キーの名前を指定します。これは最終的に生成されるファイルの名前も決定します。生成されたプライベートキーファイルのパスは`${TIUP_HOME}/keys/{name}.json`です。 `TIUP_HOME`はデフォルトで`$HOME/.tiup`であり、`name`は`-n/--name`で指定されたプライベートキーの名前を指します。
- データ型：`STRING`
- デフォルト： "private"

### -p, --public

- オプション`-n/--name`で指定されたプライベートキーの対応する公開キーを表示します。
- `-p/--public`が指定されたとき、TiUPは新しいプライベートキーを作成しません。`-n/--name`で指定されたプライベートキーが存在しない場合、TiUPはエラーを返します。
- データ型：`BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、`true`の値を渡すか、値を渡さないでください。

### --save

- 公開キーの情報を現在のディレクトリにファイルとして保存します。ファイル名は`{hash-prefix}-public.json`です。 `hash-prefix`はキーIDの最初の16ビットです。
- データ型：`BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、`true`の値を渡すか、値を渡さないでください。

## Outputs

- `-p/--public`が指定されていない場合：
    - `-n/--name`で指定されたプライベートキーが存在する場合：TiUPは`キーはすでに存在し、スキップされました`と出力します。
    - `-n/--name`で指定されたプライベートキーが存在しない場合：TiUPは`プライベートキーは${TIUP_HOME}/keys/{name}.json に書き込まれました`と出力します。
- `-p/--public`が指定された場合：
    - `-n/--name`で指定されたプライベートキーが存在しない場合：TiUPはエラー`Error: open ${TIUP_HOME}/keys/{name}.json: no such file or directory`を報告します。
    - `-n/--name`で指定されたプライベートキーが存在する場合：TiUPは対応する公開キーの内容を出力します。

[<<前のページに戻る - TiUPミラーコマンドリスト](/tiup/tiup-command-mirror.md#command-list)