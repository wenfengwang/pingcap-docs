---
title: tiup cluster enable
---

# tiup cluster enable

`tiup cluster enable`コマンドは、マシンを再起動した後にクラスターサービスを自動的に有効にするために使用されます。このコマンドは、指定されたノードで`systemctl enable <service>`を実行することで、サービスの自動有効化を有効にします。

> **注意:**
>
> すべてのクラスターがシャットダウンされて再起動されると、サービスの起動順序はノードのオペレーティングシステムの起動順序によって決まります。再起動の順序が正しくない場合、再起動されたクラスターがまだサービスを提供できない場合があります。たとえば、TiKVが最初に起動されても、PDが起動されていない場合、TiKVが複数回再起動されても、PDが見つからない場合にsystemdはあきらめます。

## 構文

```shell
tiup cluster enable <cluster-name> [flags]
```

`<cluster-name>`: サービスの自動有効化を有効にするクラスター。

## オプション

### -N、--node

- サービスの自動有効化を有効にするノードを指定します。このオプションの値は、ノードIDのコンマ区切りリストです。このオプションで指定されたノードIDは、[`tiup cluster display`](/tiup/tiup-component-cluster-display.md)コマンドによって返されるクラスターステータス表の最初の列から取得できます。
- データ型：`STRINGS`
- このオプションがコマンドで指定されていない場合、デフォルトですべてのノードの自動有効化が有効になります。

> **注意:**
>
> `-R, --role`オプションが同時に指定されている場合、`-N, --node`および`-R, --role`の両方の仕様に一致するサービスの自動有効化が有効になります。

### -R、--role

- サービスの自動有効化を有効にする役割を指定します。このオプションの値は、ノードの役割のコンマ区切りリストです。このオプションで指定されたノードの役割は、[`tiup cluster display`](/tiup/tiup-component-cluster-display.md)コマンドによって返されるクラスターステータス表の2番目の列から取得できます。
- データ型：`STRINGS`
- このオプションがコマンドで指定されていない場合、デフォルトですべての役割の自動有効化が有効になります。

> **注意:**
>
> `-N, --node`オプションが同時に指定されている場合、`-N, --node`および`-R, --role`の両方の仕様に一致するサービスの自動有効化が有効になります。

### -h、--help

- ヘルプ情報を出力します。
- データ型：`BOOLEAN`
- このオプションは、デフォルトで無効になっており、値は`false`です。このオプションを有効にするには、このオプションをコマンドに追加し、`true`の値を渡すか、値を渡さないでください。

## 出力

tiup-clusterの実行ログ。

[<<前のページに戻る - TiUP Clusterコマンドリスト](/tiup/tiup-component-cluster.md#command-list)