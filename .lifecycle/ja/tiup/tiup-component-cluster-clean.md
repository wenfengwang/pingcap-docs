---
title: tiupクラスターのクリーン
---

# tiupクラスターのクリーン

テスト環境では、クラスターを展開したばかりの状態にリセットする必要があることがあります。これはすべてのデータを削除するということです。これは`tiup cluster clean`コマンドを使用して簡単に行うことができます。実行すると、クラスターが停止され、クラスターデータが削除されます。クラスターを手動で再起動すると、クリーンなクラスターを取得できます。

> **警告:**
>
> このコマンドはログのクリーンアップのみを選択した場合でも、まずクラスターを停止します。したがって、本番環境では使用しないでください。

## 構文

```shell
tiup cluster clean <cluster-name> [flags]
```

`<cluster-name>`はクリーンアップするクラスターです。

## オプション

### --all

- データとログを同時にクリーニングします。これは同時に `--data` と `--log` を指定するのと同じです。
- データ型: `BOOLEAN`
- このオプションはデフォルトでは無効になっており、デフォルト値は `false` です。このオプションを有効にするには、コマンドにこのオプションを追加して `true` の値を渡すか、値を渡さないでください。
- 指定されていない場合、次のいずれかを指定する必要があります:
    - --data: データをクリーニング
    - --log: ログをクリーニング

### --data

- データをクリーニングします。それと `--all` のいずれも指定されていない場合、データはクリーニングされません。
- データ型: `BOOLEAN`
- このオプションはデフォルトでは無効になっており、デフォルト値は `false` です。このオプションを有効にするには、コマンドにこのオプションを追加して `true` の値を渡すか、値を渡さないでください。

### --log

- ログをクリーニングします。それと `--all` のいずれも指定されていない場合、ログはクリーニングされません。
- データ型: `BOOLEAN`
- このオプションはデフォルトでは無効になっており、デフォルト値は `false` です。このオプションを有効にするには、コマンドにこのオプションを追加して `true` の値を渡すか、値を渡さないでください。

### --ignore-node

- クリーニングが不要なノードを指定します。複数のノードを指定するには、このオプションを複数回使用できます。例: `--ignore-node <node-A> --ignore-node <node-B>`。
- データ型: `StringArray`
- デフォルト: 空

### --ignore-role

- クリーニングが不要なロールを指定します。複数のロールを指定するには、このオプションを複数回使用できます。例: `--ignore-role <role-A> --ignore-role <role-B>`。
- データ型: `StringArray`
- デフォルト: 空

### -h, --help

- ヘルプ情報を表示します。
- データ型: `BOOLEAN`
- このオプションはデフォルトでは無効になっており、デフォルト値は `false` です。このオプションを有効にするには、コマンドにこのオプションを追加して `true` の値を渡すか、値を渡さないでください。

## 出力

tiup-clusterの実行ログ。

[<< 前のページに戻る - TiUPクラスターコマンド一覧](/tiup/tiup-component-cluster.md#command-list)