---
title: tiupクラスターディスプレイ
---

# tiupクラスターディスプレイ

クラスター内の各コンポーネントの操作状態を確認したい場合、それぞれのマシンにログインするのは非効率です。そのため、tiup-clusterはこのタスクを効率的に完了するために `tiup cluster display` コマンドを提供しています。

## 構文

```shell
tiup cluster display <クラスター名> [フラグ]
```

`<クラスター名>`: 操作対象のクラスターの名前。クラスター名を忘れた場合は、[cluster list](/tiup/tiup-component-cluster-list.md) コマンドで確認できます。

## オプション

### --dashboard

- デフォルトで、クラスター全体のノード情報が表示されます。 `--dashboard` オプションを使用すると、ダッシュボード情報のみが表示されます。
- データ型: `BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は `false` です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true` 値を渡すか、何も値を渡さないようにします。

### -N、--node

- 表示するノードを指定します。このオプションを指定しない場合、すべてのノードが表示されます。このオプションの値は、ノードIDのコンマ区切りリストです。ノードのIDがわからない場合は、コマンドでこのオプションをスキップして、出力のすべてのノードのIDと状態を表示します。
- データ型: `STRINGS`
- このオプションがコマンドで指定されていない場合、デフォルトですべてのノードがチェックされます。

> **注意:**
>
> 同時に `-R、--role` オプションが指定されている場合、`-N、--node` および `-R、--role` の仕様に一致するサービスノードのみがチェックされます。

### -R、--role

- 表示する役割を指定します。指定しない場合、すべての役割が表示されます。このオプションの値は、ノードの役割のコンマ区切りリストです。ノードに展開された役割がわからない場合は、コマンドでこのオプションをスキップして、出力のすべてのノードの役割と状態を表示します。
- データ型: `STRINGS`
- このオプションがコマンドで指定されていない場合、デフォルトですべての役割が表示されます。

> **注意:**
>
> 同時に `-N、--node` オプションが指定されている場合、`-N、--node` および `-R、--role` の仕様に一致するサービスノードのみが表示されます。

### --process

- このオプションを有効にすると、ノードのCPUおよびメモリ使用状況情報が表示されます。このオプションはデフォルトで無効です。
- データ型: `BOOLEAN`
- デフォルト値: `false`
- このオプションを有効にするには、コマンドにこのオプションを追加し、`true` 値を渡すか、何も値を渡さないようにします。

### --uptime

- このオプションを有効にすると、ノードの `uptime` 情報が表示されます。このオプションはデフォルトで無効です。
- データ型: `BOOLEAN`
- デフォルト値: `false`
- このオプションを有効にするには、コマンドにこのオプションを追加し、`true` 値を渡すか、何も値を渡さないようにします。

### --status-timeout

- ノードの状態情報を取得するタイムアウト期間を指定します。
- データ型: `INT`
- デフォルト値: `10`、単位は秒です。

### -h、--help

- ヘルプ情報を表示します。
- データ型: `BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は `false` です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true` 値を渡すか、何も値を渡さないようにします。

## 出力

- クラスター名
- クラスターバージョン
- SSHクライアントタイプ
- ダッシュボードアドレス
- 次のフィールドを持つテーブル:
    - ID: ノードID、`IP:PORT` で構成
    - Role: このノードに展開されたサービスの役割（たとえば、TiDB、TiKV）
    - Host: ノードに対応するマシンのIP
    - Ports: サービスが使用するポート番号
    - OS/Arch: このノードのオペレーティングシステムとマシンアーキテクチャ
    - Status: ノードサービスの現在の状態
    - Data Dir: サービスのデータディレクトリ。`-` はデータディレクトリが存在しないことを示します。
    - Deploy Dir: サービスの展開ディレクトリ

### ノードサービスの状態

ノードサービスは、次の状態のいずれかで実行されます:

- Up: ノードサービスは正常に実行されています。
- DownまたはUnreachable: ノードサービスが実行されていないか、対応するホストにネットワーク問題が発生しています。
- Tombstone: ノードサービスのデータは完全に移行され、スケーリングインが完了しています。このステータスはTiKVまたはTiFlashのみに存在します。
- Pending Offline: ノードサービスのデータが移行されており、スケーリングインが進行中です。このステータスはTiKVまたはTiFlashのみに存在します。
- Unknown: ノードサービスの実行状態が不明です。

> **注意:**
>
> TiUPの`Pending Offline`、PD APIで返される`Offline`、TiDB Dashboardでの`Leaving`は、同じ状態を示しています。

ノードサービスの状態は、PDスケジューリング情報から取得されます。詳細については、[情報収集](/tidb-scheduling.md#information-collection)を参照してください。

[<<前のページに戻る - TiUPクラスターコマンドリスト](/tiup/tiup-component-cluster.md#command-list)