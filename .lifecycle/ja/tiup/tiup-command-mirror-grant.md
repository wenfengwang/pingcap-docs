---
title: tiup ミラー許可
---

# tiup ミラー許可

`tiup mirror grant`コマンドは、コンポーネントの所有者を現在のミラーに登録するために使用されます。

コンポーネントの所有者は、自分のキーを使用して新しいコンポーネントを公開したり、以前に公開したコンポーネントを修正したりすることができます。新しいコンポーネントの所有者を追加する前に、追加されるコンポーネントの所有者は、自分自身の公開鍵をミラーの管理者に送信する必要があります。

> **注意：**
>
> このコマンドは、現在のミラーがローカルミラーの場合のみサポートされています。

## 構文

```shell
tiup ミラー許可 <id> [フラグ]
```

`<id>`はコンポーネント所有者のIDを表し、全体のミラー内で一意である必要があります。正規表現 `^[a-z\d](?:[a-z\d]|-(?=[a-z\d])){0,38}$` に一致するIDを使用することが推奨されます。

## オプション

### -k、--key

- 登録されるコンポーネント所有者のキーを指定します。このキーは公開または非公開のいずれかです。非公開キーの場合は、TiUPがそれを対応する公開キーに変換してミラーに保存します。
- 1つのコンポーネント所有者によって1つのキーが使用されます。
- データ型： `STRING`
- デフォルト： "${TIUP_HOME}/keys/private.json"

### -n、--name

- コンポーネント所有者の名前を指定します。名前は、コンポーネントリストの「所有者」フィールドに表示されます。`-n/--name`が指定されていない場合、`<id>`がコンポーネント所有者の名前として使用されます。
- データ型： `STRING`
- デフォルト： `<id>`

### 出力

- コマンドが正常に実行された場合、出力はありません。
- コンポーネント所有者のIDが重複している場合、TiUPはエラー `Error: owner %s exists` を報告します。
- キーが別のコンポーネント所有者によって使用されている場合、TiUPはエラー `Error: key %s exists` を報告します。

[<<前のページに戻る - TiUP Mirror コマンドリスト](/tiup/tiup-command-mirror.md#command-list)