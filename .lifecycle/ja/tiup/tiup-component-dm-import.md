---
title: tiup dm import
---

# tiup dm import <span class="version-mark">Only for upgrading DM v1.0</span>

<Note>

このコマンドは、DMクラスターをv1.0からv2.0またはそれ以降のバージョンにアップグレードするためにのみ使用されます。

</Note>

DM v1.0では、クラスターは基本的にTiDB Ansibleを使用してデプロイされます。「tiup dm」は、「import」コマンドを提供して、v1.0クラスターをインポートし、v2.0で再デプロイすることができます。

> **Note:**
>
> - このコマンドは、DM v1.0クラスターからDM Portalコンポーネントをインポートすることをサポートしていません。
> - クラスターをインポートする前に、元のクラスターを停止してください。
> - v2.0にアップグレードする必要のあるデータ移行タスクに対しては、これらのタスクで```stop-task```を実行しないでください。
> - このコマンドは、DM v2.0.0-rc.2およびそれ以降のバージョンへのインポートのみをサポートしています。
> - ```import```コマンドは、DM v1.0クラスターを新しいDM v2.0クラスターにインポートするために使用されます。既存のv2.0クラスターにデータ移行タスクをインポートする必要がある場合は、[「TiDBデータ移行をv1.0.xからv2.0+にマニュアルでアップグレードする」](/dm/manually-upgrade-dm-1.0-to-2.0.md)を参照してください。
> - 一部のコンポーネントのデプロイディレクトリは、元のクラスターと異なる場合があります。```display```コマンドで確認できます。
> - クラスターをインポートする前に、```tiup update --self && tiup update dm```を実行して、TiUP DMコンポーネントを最新バージョンにアップグレードしてください。
> - インポート後、クラスターには1つのDMマスターノードしかありません。DMマスターノードをスケールアウトするには、[```scale out```コマンド](/tiup/tiup-component-dm-scale-out.md)を参照してください。

## 構文

```shell
tiup dm import [flags]
```

## オプション

### -v、--cluster-version

- 再デプロイのバージョン番号を指定します。v2.0.0-rc.2（v2.0.0-rc.2を含む）より後のバージョンを使用する必要があります。
- データ型：`STRING`
- このオプションは、コマンドの実行には**必須**です。

### -d、--dir

- TiDB Ansibleのディレクトリを指定します。
- データ型：`STRING`
- このオプションがコマンドで指定されていない場合、現在のディレクトリがデフォルトディレクトリです。

### --inventory

- Ansibleインベントリファイルの名前を指定します。
- データ型：`STRING`
- このオプションがコマンドで指定されていない場合、デフォルトのファイル名は```"inventory.ini"```です。

### --rename

- インポートしたクラスターの名前を変更します。
- データ型: `STRING`
- このオプションがコマンドで指定されていない場合、デフォルトのクラスター名はインベントリファイルで指定されている`cluster_name`です。

### -h、--help

- ヘルプ情報を表示します。
- データ型：`BOOLEAN`
- このオプションは、```false```値でデフォルトで無効になっています。このオプションを有効にするには、このオプションをコマンドに追加し、```true```値を渡すか、値を渡さないでください。

## 出力

インポートプロセスのログ。

[<< 前のページに戻る - TiUP DMコマンドリスト](/tiup/tiup-component-dm.md#command-list)