---
title: tiup cluster reload
---

# tiup cluster reload

[クラスタ構成を変更](/tiup/tiup-component-cluster-edit-config.md)した後、構成が有効になるように`tiup cluster reload`コマンドを使用してクラスタを再読み込みする必要があります。このコマンドは、制御マシンの構成をランニングしているリモートマシンに公開し、アップグレードプロセスに従ってサービスを再起動します。再起動プロセス中もクラスタは利用可能です。

## 構文

```shell
tiup cluster reload <cluster-name> [flags]
```

`<cluster-name>`: 操作対象のクラスタ名。

## オプション

### --force

- 再読み込みプロセスでのエラーを無視して再読み込みを強制します。
- データ型: `BOOLEAN`
- デフォルト: false

### --transfer-timeout

- PDまたはTiKVを再起動する場合、再起動ノードのリーダーはまず他のノードに移行し、移行プロセスには時間がかかります。`-transfer-timeout`を設定して最大待機時間（秒単位）を指定できます。タイムアウト後は、待機せずにサービスを直接再起動できます。
- データ型: `UINT`
- デフォルト: 600

> **注意:**
>
> 直接再起動する場合、サービスのパフォーマンスに影響が出ることがあります。

### --ignore-config-check

- コンポーネントのバイナリファイルが展開された後、TiDB、TiKV、およびPDコンポーネントの構成は、`<binary> --config-check <config-file>`を使用してチェックされます。`<binary>`は展開されたバイナリファイルのパスです。`<config-file>`はユーザー構成に基づいて生成された構成ファイルです。このチェックをスキップする場合は、このオプションを使用できます。
- データ型: `BOOLEAN`
- デフォルト: false

### -N, --node

- 再起動するノードを指定します。指定しない場合、すべてのノードが再起動されます。このオプションの値は、ノードIDのコンマ区切りのリストです。ノードIDは、[`tiup cluster display`](/tiup/tiup-component-cluster-display.md)コマンドによって返されるクラスタステータステーブルの最初の列から取得できます。
- データ型: `STRINGS`
- このオプションがコマンドで指定されていない場合、すべてのノードがデフォルトで選択されます。

> **注意:**
>
> + `--role`オプションも同時に指定された場合、`-N, --node`と`-R, --role`の両方の仕様に一致するサービスノードのみが再起動されます。
> + `--skip-restart`オプションが指定されている場合、`-N, --node`オプションは無効です。

### -R, --role

- 再起動するロールを指定します。指定しない場合、すべてのロールが再起動されます。このオプションの値は、ノードロールのコンマ区切りのリストです。ロールは[クラスタステータス](/tiup/tiup-component-cluster-display.md)テーブルの2番目の列です。
- データ型: `STRINGS`
- このオプションがコマンドで指定されていない場合、すべてのロールがデフォルトで選択されます。

> **注意:**
>
> 1. `-N, --node`オプションも同時に指定された場合、`-N, --node`と`-R, --role`の両方の仕様に一致するサービスノードのみが再起動されます。
> 2. `--skip-restart`オプションが指定されている場合、`-R, --role`オプションは無効です。

### --skip-restart

`tiup cluster reload`コマンドは2つの操作を実行します。

- すべてのノードの構成をリフレッシュ
- 指定されたノードを再起動

`--skip-restart`オプションを指定すると、構成をリフレッシュした後、ノードを再起動せずにそのままにできます。そのため、リフレッシュされた構成は次回対応するサービスが再起動されるまで適用されず、効果がありません。

- データ型: `BOOLEAN`
- デフォルト: false

### -h, --help

- ヘルプ情報を表示します。
- データ型: `BOOLEAN`
- デフォルト: false

## 出力

tiup-clusterの実行ログ。

[<< 前のページに戻る - TiUP Clusterコマンドリスト](/tiup/tiup-component-cluster.md#command-list)