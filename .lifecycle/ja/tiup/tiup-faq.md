---
title: TiUP FAQs
summary: TiUPユーザーがよく尋ねる一般的な質問に対する回答を提供します。
aliases: ['/docs/dev/tiup/tiup-faq/']
---

# TiUP FAQs

このドキュメントでは、TiUPに関するよくある質問（FAQ）をまとめています。

## TiUPは公式のミラーソースを使用しないことはできますか？

TiUPは`TIUP_MIRRORS`環境変数を介してミラーソースを指定することができます。ミラーソースのアドレスは、ローカルディレクトリまたはHTTPサーバーアドレスにすることができます。ネットワークにアクセスできない環境の場合は、独自のオフラインミラーソースを作成してTiUPを使用することができます。

非公式のミラーを使用した後、公式のミラーを使用したい場合は、次のいずれかの方法を取ることができます：

- `TIUP_MIRRORS`変数を公式のミラーアドレス `https://tiup-mirrors.pingcap.com` に設定します。
- `TIUP_MIRRORS`変数が設定されていないことを確認し、その後 `tiup mirror set https://tiup-mirrors.pingcap.com` コマンドを実行します。

## 独自のコンポーネントをTiUPミラーに配置する方法は？

現時点では、TiUPはサードパーティ製のコンポーネントをサポートしていませんが、TiUPチームはTiUPコンポーネント開発仕様を開発し、 `tiup-publish` コンポーネントを開発中です。すべての準備が整った後、貢献者は `tiup publish <comp> <version>` コマンドを使用して自分のコンポーネントをTiUPの公式ミラーに公開することができます。

## TiUPプレイグラウンドコンポーネントとTiUPクラスターコンポーネントの違いは何ですか？

TiUPプレイグラウンドコンポーネントは、主にLinuxまたはmacOSオペレーティングシステム上でスタンドアロンの開発環境を構築するために使用されます。これは、迅速に始めることができ、指定されたTiUPクラスターのバージョンを簡単に実行するのに役立ちます。TiUPクラスターコンポーネントは主に本番環境クラスターの展開とメンテナンスに使用され、通常は大規模なクラスターです。

## TiUPクラスターコンポーネントのトポロジファイルの記述方法は？

[これらのテンプレート](https://github.com/pingcap/tiup/tree/master/embed/examples/cluster)を参照してトポロジファイルを記述します。これらのテンプレートには次のものが含まれています：

- マルチDC展開のトポロジ
- 最小デプロイメントのトポロジ
- 完全なトポロジファイル

これらのテンプレートと必要に応じてトポロジファイルを編集することができます。

## 同じホストに複数のインスタンスを展開できますか？

TiUPクラスターコンポーネントを使用して同じホスト上に複数のインスタンスを展開することができますが、異なるポートとディレクトリが構成されている必要があります。そうでないと、ディレクトリやポートの競合が発生する可能性があります。

## 同じクラスター内でポートとディレクトリの競合は検出されますか？

同じクラスター内でのポートやディレクトリの競合は展開やスケーリング中に検出されます。ディレクトリやポートに競合がある場合、展開やスケーリングプロセスは中断されます。

## 異なるクラスター間でポートやディレクトリの競合は検出されますか？

同じTiUP制御マシンによって複数の異なるクラスターが展開される場合、これらのクラスター間のポートやディレクトリの競合は展開やスケーリング中に検出されます。異なるTiUP制御マシンによってクラスターが展開される場合は、現在は競合の検出がサポートされていません。

## クラスターの展開中にTiUPが `ssh: handshake failed: read tcp 10.10.10.34:38980 -> 10.10.10.34:3600: read: connection reset by peer` エラーを受け取りました

このエラーは、TiUPのデフォルトの並列スレッド数がデフォルトの最大SSH接続数を超えたため発生する可能性があります。この問題を解決するには、デフォルトのSSH接続数を増やし、その後sshdサービスを再起動することができます：

{{< copyable "shell-regular" >}}

```shell
vi /etc/ssh/sshd_config
```

```bash
MaxSessions 1000
MaxStartups 1000
```