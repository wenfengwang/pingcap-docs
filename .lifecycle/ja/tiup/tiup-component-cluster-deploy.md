---
title: tiup cluster deploy
---

# tiup cluster deploy

`tiup cluster deploy`コマンドは新しいクラスタをデプロイするために使用されます。

## 構文

```shell
tiup cluster deploy <cluster-name> <version> <topology.yaml> [flags]
```

- `<cluster-name>`: 新しいクラスタの名前であり、既存のクラスタ名と同じにすることはできません。
- `<version>`: デプロイするTiDBクラスタのバージョン番号。たとえば `v7.4.0` のようなものです。
- `<topology.yaml>`: 準備された[topology file](/tiup/tiup-cluster-topology-reference.md)です。

## オプション

### -u、--user

- ターゲットマシンに接続するために使用するユーザー名を指定します。このユーザーはターゲットマシンで秘密フリーのsoduルート権限を持っている必要があります。
- データ型： `STRING`
- デフォルト： コマンドを実行する現在のユーザー

### -i、--identity_file

- ターゲットマシンに接続するために使用するキーファイルを指定します。
- データ型： `STRING`
- このオプションがコマンドで指定されていない場合、デフォルトで`~/.ssh/id_rsa`ファイルが使用されてターゲットマシンに接続されます。

### -p、--password

- ターゲットマシンに接続するために使用するパスワードを指定します。このオプションを`-i/--identity_file`と同時に使用しないでください。
- データ型： `BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`値を渡すか、値を渡さないでください。

### --ignore-config-check

- このオプションは構成チェックをスキップするために使用されます。コンポーネントのバイナリファイルがデプロイされた後、TiDB、TiKV、およびPDコンポーネントの構成は`<binary> --config-check <config-file>`を使用してチェックされます。`<binary>`はデプロイされたバイナリファイルのパスです。`<config-file>`はユーザー構成に基づいて生成された構成ファイルです。
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`値を渡すか、値を渡さないでください。

### --no-labels

- このオプションはラベルのチェックをスキップするために使用されます。
- 同じ物理マシンに2台以上のTiKVノードが展開されている場合、リスクがあります。PDはクラスタのトポロジを学習できないため、PDは同じリージョンの複数のレプリカを1つの物理マシンの異なるTiKVノードにスケジュールするかもしれません。これにより、この物理マシンは単一のポイントになります。このリスクを回避するために、PDに同じリージョンを同じマシンにスケジュールしないようにラベルを使用できます。ラベル構成については、[トポロジラベルによるレプリカのスケジュール](/schedule-replicas-by-topology-labels.md)を参照してください。
- テスト環境では、このリスクが重要である場合があり、`--no-labels`を使用してチェックをスキップできます。
- データ型： `BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`値を渡すか、値を渡さないでください。

### --skip-create-user

- クラスタをデプロイする際、tiup-clusterはトポロジファイルで指定されたユーザー名が存在するかどうかをチェックし、存在しない場合は作成します。このチェックをスキップするには、`--skip-create-user`オプションを使用できます。
- データ型： `BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`値を渡すか、値を渡さないでください。

### -h、--help

- ヘルプ情報を表示します。
- データ型： `BOOLEAN`
- このオプションはデフォルトで無効になっており、デフォルト値は`false`です。このオプションを有効にするには、コマンドにこのオプションを追加し、`true`値を渡すか、値を渡さないでください。

## 出力

デプロイメントログ。

[<< 前のページに戻る - TiUP Clusterコマンドリスト](/tiup/tiup-component-cluster.md#command-list)