---
title: TiDB ダッシュボードのステートメント実行の詳細
summary: TiDB ダッシュボードで単一のSQLステートメントの実行詳細を表示します。
aliases: ['/docs/dev/dashboard/dashboard-statement-details/']
---

# TiDB ダッシュボードのステートメント実行の詳細

リスト内のアイテムをクリックして、SQLステートメントの詳細ページに入り、より詳細な情報を表示できます。この情報には、次の部分が含まれます。

- SQLステートメントの概要。これにはSQLテンプレート、SQLテンプレートのID、表示されるSQLの実行時間範囲、実行計画の数、SQLステートメントが実行されるデータベース、高速なプランのバインディング機能が含まれます（図の領域1）。
- 実行計画リスト。SQLステートメントに複数の実行計画がある場合、このリストが表示されます。実行計画のテキスト情報に加えて、TIDB v6.2.0 では視覚的な実行計画が導入され、ステートメントの各オペレータと詳細な情報を直感的に学ぶことができます。異なる実行計画を選択し、選択した計画の詳細はリストの下に表示されます（図の領域2）。
- 実行計画の詳細。これは選択した実行計画の詳細情報を表示します。[実行計画の詳細](#execution-details-of-plans) を参照してください（図の領域3）。

![詳細](/media/dashboard/dashboard-statement-detail-v660.png)

## 高速なプランのバインディング

v6.6.0 から、TiDB は高速なプランのバインディング機能を導入しました。TiDB ダッシュボードでSQLステートメントを特定の実行計画に迅速にバインドできます。

### 使用法

#### 実行計画のバインド

1. **プランのバインディング** をクリックします。**プランのバインディング** ダイアログボックスが表示されます。

    ![高速なプランのバインディング - バインドされていない - 入口](/media/dashboard/dashboard-quick-binding-entry-notbound.png)

2. バインドしたいプランを選択し、**バインド** をクリックします。

    ![高速なプランのバインディング - ポップアップ](/media/dashboard/dashboard-quick-binding-popup-notbound.png)

3. バインドが完了すると、**バウンド** ラベルが表示されます。

    ![高速なプランのバインディング - ポップアップ - バインド完了](/media/dashboard/dashboard-quick-binding-popup-bound.png)

#### 既存のバインディングを解除

1. 既存のバインディングのあるSQLステートメントのページで、**プランのバインディング** をクリックします。**プランのバインディング** ダイアログボックスが表示されます。

    ![高速なプランのバインディング - バインドされている - 入口](/media/dashboard/dashboard-quick-binding-entry-bound.png)

2. **ドロップ** をクリックします。

    ![高速なプランのバインディング - ポップアップ - バインドされている](/media/dashboard/dashboard-quick-binding-popup-bound.png)

3. バインディングが解除されると、**バインドされていない** ラベルが表示されます。

    ![高速なプランのバインディング - ポップアップ](/media/dashboard/dashboard-quick-binding-popup-notbound.png)

### 制限

現在、高速なプランのバインディング機能は次のタイプのSQLステートメントをサポートしていません。

- `SELECT`、`DELETE`、`UPDATE`、`INSERT`、または `REPLACE` でないステートメント
- サブクエリを含むクエリ
- TiFlash にアクセスするクエリ
- 3つ以上のテーブルを結合するクエリ

この機能を使用するには、SUPER 権限が必要です。使用中に権限の問題が発生した場合は、[TiDB ダッシュボードユーザー管理](/dashboard/dashboard-user.md) を参照して必要な権限を追加してください。

## 実行計画の詳細

実行計画の詳細には、次の情報が含まれます。

- SQLサンプル：実際に実行されている特定のSQLステートメントのテキスト。実行された時間範囲内で実行された任意のSQLステートメントがSQLサンプルとして使用される場合があります。
- 実行計画：テーブル、グラフ、およびテキストで表示される実行計画の完全な情報。実行計画の詳細については、[クエリ実行計画の理解](/explain-overview.md) を参照してください。複数の実行計画が選択された場合、それらのうちの1つだけが表示されます。
- SQLステートメントの基本情報、実行時間、コプロセッサ読み取り、トランザクション、および遅いクエリに関する情報は、対応するタブのタイトルをクリックして異なる情報に切り替えることができます。

![実行計画の詳細](/media/dashboard/dashboard-statement-plans-detail.png)

### SQLサンプル

項目の詳細情報を表示するには、**展開** をクリックします。詳細情報をクリップボードにコピーするには、**コピー** をクリックします。

### 実行計画

TiDB ダッシュボードでは、表、テキスト、グラフの形式で実行計画を表示できます。実行計画の読み方については、[実行計画の理解](/explain-overview.md) を参照してください。

#### テーブル形式の実行計画

テーブル形式は、実行計画に関する詳細情報を提供し、異なるオペレータの状態を素早く特定したり、異なるオペレータの状態を比較したりするのに役立ちます。次の図は、テーブル形式で表された実行計画を示しています。

![テーブル形式の実行計画](/media/dashboard/dashboard-table-plan.png)

テーブル形式はテキスト形式と同様の情報を表示しますが、ユーザーフレンドリーなインタラクションが提供されます。

- 列幅を自由に調整できます。
- 内容が列幅を超える場合、自動的に切り捨てられ、完全な情報についてはツールヒントが表示されます。
- 実行計画が大きい場合、ローカル分析用にテキストファイルとしてダウンロードできます。
- 列の非表示や管理が列ピッカーを使用して行えます。

![テーブル形式の実行計画 - 列ピッカー](/media/dashboard/dashboard-table-plan-columnpicker.png)

#### グラフ形式の実行計画

グラフ形式は、複雑なSQLステートメントの実行計画ツリーを表示し、それぞれのオペレータとそれに対応するコンテンツを詳しく理解するのに適しています。次の図は、グラフ形式で表された実行計画を示しています。

![グラフ形式の実行計画](/media/dashboard/dashboard-visual-plan-2.png)

- グラフは左から右へ、上から下へと実行を示します。
- 上のノードは親のオペレータであり、下のノードは子のオペレータです。
- タイトルバーの色は、オペレータが実行されるコンポーネントを示しています：黄色はTiDB、青色はTiKV、ピンクはTiFlashを表します。
- タイトルバーにはオペレータの名前が表示され、その下に表示されているテキストはオペレータの基本情報です。

ノード領域をクリックすると、右側のサイドバーに詳細なオペレータ情報が表示されます。

![グラフ形式の実行計画 - サイドバー](/media/dashboard/dashboard-visual-plan-popup.png)

### SQL実行の詳細

SQLステートメントの基本情報、実行時間、コプロセッサ読み取り、トランザクション、および遅いクエリに関する情報は、対応するタブのタイトルをクリックして異なる情報に切り替えることができます。

![異なる実行情報を表示](/media/dashboard/dashboard-slow-queries-detail2-v620.png)

#### 基本タブ

SQL実行の基本情報には、テーブル名、インデックス名、実行回数、合計の待ち時間が含まれます。各フィールドの詳細な説明が提供されています。

![基本情報](/media/dashboard/dashboard-statement-plans-basic.png)

#### 時間タブ

**時間** タブをクリックすると、実行計画の各段階がどのくらい時間がかかるかが表示されます。

> **注意:**
>
> 1つのSQLステートメント内で並列でいくつかの操作が行われる場合、各段階の累積時間がSQLステートメントの実際の実行時間を超える場合があります。

![実行時間](/media/dashboard/dashboard-statement-plans-time.png)

#### Coprocessor Read タブ

**Coprocessor Read** タブをクリックすると、Coprocessor 読み取りに関連する情報が表示されます。

![Coprocessor 読み取り](/media/dashboard/dashboard-statement-plans-cop-read.png)

#### トランザクション タブ

**トランザクション** タブをクリックすると、実行計画とトランザクションに関連する情報が表示されます。これには、平均書き込みキー数や最大書き込みキー数などが含まれます。

![トランザクション](/media/dashboard/dashboard-statement-plans-transaction.png)

#### 遅いクエリ タブ

実行計画が遅すぎる場合、**遅いクエリ** タブの下に関連する遅いクエリレコードが表示されます。

![遅いクエリ](/media/dashboard/dashboard-statement-plans-slow-queries.png)

この領域に表示される情報は、遅いクエリページと同じ構造です。詳細については、[TiDBダッシュボードの遅いクエリページ](/dashboard/dashboard-slow-query.md) を参照してください。