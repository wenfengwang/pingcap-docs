---
title: TiDB ダッシュボード クラスター診断ページ
summary: クラスター診断ページの使用方法を学びます。
aliases: ['/docs/dev/dashboard/dashboard-diagnostics-access/']
---

# TiDB ダッシュボード クラスター診断ページ

TiDB ダッシュボードのクラスター診断機能は、指定された時間範囲内のクラスターに存在するかもしれない問題を診断し、診断結果やクラスター関連の負荷モニタリング情報を診断レポートにまとめます。この診断レポートはウェブページの形式で提供されます。このウェブページはオフラインで閲覧し、ブラウザーからページを保存した後にこのページのリンクを共有することができます。

> **注意:**
>
> クラスター診断機能は、クラスターに展開されたPrometheusに依存します。この監視コンポーネントの展開方法の詳細については、[TiUP](/tiup/tiup-overview.md)の展開ドキュメントを参照してください。クラスターに監視コンポーネントが展開されていない場合、生成された診断レポートは失敗を示します。

## ページへのアクセス

クラスター診断ページにアクセスする方法は次のいずれかを利用できます:

* TiDB ダッシュボードにログインした後、左側のナビゲーションメニューで**Cluster Diagnostics**をクリックします。

  ![クラスター診断ページへのアクセス](/media/dashboard/dashboard-diagnostics-access-v650.png)

* ブラウザーで`http://127.0.0.1:2379/dashboard/#/diagnose`を訪問します。`127.0.0.1:2379`を実際のPDアドレスとポート番号に置き換えてください。

## 診断レポートの生成

指定された時間範囲内のクラスターを診断し、クラスターロードをチェックするには、次の手順に従って診断レポートを生成できます:

1. **範囲開始時刻**を設定します。例: `2022-05-21 14:40:00`。
2. **範囲期間**を設定します。例: `10分`。
3. **開始**をクリックします。

![診断レポートの生成](/media/dashboard/dashboard-diagnostics-gen-report-v650.png)

> **注意:**
>
> レポートの**範囲期間**は1分から60分の間であることが推奨されます。**範囲期間**は60分を超えることはできません。

前述の手順により、`2022-05-21 14:40:00`から`2022-05-21 14:50:00`の時間範囲用の診断レポートが生成されます。**開始**をクリックした後、以下のインターフェースが表示されます。**Progress**は診断レポートの進行状況を示します。レポートが生成された後は、**View Full Report**をクリックしてください。

![レポートの進行状況](/media/dashboard/dashboard-diagnostics-gen-process-v650.png)

## 比較レポートの生成

特定の時間にシステム例外が発生する場合（たとえば、QPSの揺れやより高いレイテンシなど）、診断レポートが生成されます。特に、このレポートは異常時間範囲内のシステムと通常時間範囲内のシステムを比較します。たとえば:

- 異常時間範囲: `2022-05-21 14:40:00`-`2022-05-21 14:45:00`。この時間範囲内でシステムが異常です。
- 通常時間範囲: `2022-05-21 14:30:00` - `2022-05-21 14:35:00`。この時間範囲内でシステムは正常です。

前述の2つの時間範囲に対して比較レポートを生成するために、次の手順に従うことができます:

1. **範囲開始時刻**を設定します。つまり、システムが異常になる範囲の開始時刻を設定します。例: `2022-05-21 14:40:00`。
2. **範囲期間**を設定します。通常、これはシステムの異常の期間です。例: 5分。
3. **比較のためのベースライン**を有効にします。
4. **ベースラインの範囲開始時刻**を設定します。つまり、システムが正常な範囲（比較対象）の開始時刻を設定します。例: `2022-05-21 14:30:00`。
5. **開始**をクリックします。

![比較レポートの生成](/media/dashboard/dashboard-diagnostics-gen-compare-report-v650.png)

その後、レポートの生成を待ち、**View Full Report**をクリックします。

また、歴史的な診断レポートは診断レポートのメインページのリストに表示されます。これらの歴史的なレポートを直接表示するためにクリックできます。