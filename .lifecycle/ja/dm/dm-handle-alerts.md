---
title: TiDBデータマイグレーションでのアラートの処理
summary: DMでのアラート情報の取り扱いについて理解する
---

# TiDBデータマイグレーションでのアラートの処理

このドキュメントでは、DMでのアラート情報の処理方法について紹介します。

## 高可用性に関連するアラート

### `DM_master_all_down`

- 説明:

    すべてのDMマスターノードがオフラインの場合、このアラートがトリガーされます。

- 解決方法:

    以下の手順を実行してアラートを処理できます:

    1. クラスターの環境を確認します。
    2. トラブルシューティングのため、すべてのDMマスターノードのログを確認します。

### `DM_worker_offline`

- 説明:

    DMワーカーノードが1時間以上オフラインになると、このアラートがトリガーされます。高可用性アーキテクチャでは、このアラートは直接タスクに影響を与えることはないかもしれませんが、中断のリスクを高めます。

- 解決方法:

    以下の手順を実行してアラートを処理できます:

    1. 関連するDMワーカーノードの作業状況を確認します。
    2. ノードが接続されているかを確認します。
    3. ログを通じてエラーをトラブルシューティングします。

### `DM_DDL_error`

- 説明:

    このエラーは、DMがシャーディングDDL操作を処理しているときに発生します。

- 解決方法:

    [DMのトラブルシューティング](/dm/dm-error-handling.md#troubleshooting)を参照してください。

### `DM_pending_DDL`

- 説明:

    シャーディングDDL操作が1時間以上保留状態になると、このアラートがトリガーされます。

- 解決方法:

    保留中のシャーディングDDL操作がユーザーの期待通りである場合は、そのままにしておいても構いません。それ以外の場合は、[DMでのシャーディングDDLロックの手動処理](/dm/manually-handling-sharding-ddl-locks.md)を参照してください。

## タスクステータスに関連するアラートルール

### `DM_task_state`

- 説明:

    DMワーカーのサブタスクが20分以上`Paused`状態であると、アラートがトリガーされます。

- 解決方法:

    [DMのトラブルシューティング](/dm/dm-error-handling.md#troubleshooting)を参照してください。

## リレーログに関連するアラートルール

以下省略