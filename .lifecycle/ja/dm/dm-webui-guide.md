---
title: DM マイグレーションタスクを管理するための WebUI の使用方法
summary: WebUI を使用して DM マイグレーションタスクを管理する方法について学びます。

# DM マイグレーションタスクを管理するための WebUI の使用方法

DM WebUI は、TiDB Data Migration (DM) タスクを管理するための Web ベースのGUIプラットフォームです。このプラットフォームは、大量のマイグレーションタスクをシンプルで直感的な方法で管理できるようにし、dmctlコマンドラインツールの使用から開放します。

このドキュメントでは、DM WebUI へのアクセス方法、前提条件、インターフェース上の各ページのユースケース、および注意事項について紹介します。

> **警告:**
>
> - DM WebUI は現在実験的な機能です。本番環境で使用することは推奨されません。
> - DM WebUI 内の `task` のライフサイクルが変更されており、DM WebUI と dmctl を同時に使用することは推奨されていません。

DM WebUI には、次のページがあります:

- **マイグレーション**
    - **タスク**: タスクの作成につながるエントリを提供し、各マイグレーションタスクの詳細情報を表示します。このページでは、マイグレーションタスクの監視、作成、削除、および構成を行うことができます。
    - **ソース**: マイグレーションタスクの上流データソースの情報を構成します。このページでは、上流構成を作成および削除し、対応する上流構成に対するタスクステータスを監視し、上流構成を変更することができます。
    - **レプリケーション詳細**: マイグレーションタスクの詳細な状態情報を表示します。このページでは、指定されたフィルタに基づいて詳細な構成および状態情報を表示できます。上流および下流の構成情報やデータベース名、ソーステーブルと送信先テーブルの関係などが含まれます。
- **クラスタ**
    - **メンバー**: DMクラスタのすべてのマスターノードおよびワーカーノードのリスト、およびワーカーノードとソースのバインディング関係を表示します。このページでは、現在のDMクラスタの構成情報、および各ワーカーの状態情報を表示できます。さらに、このページで基本的な管理も提供されています。

インターフェースは以下の通りです:

![webui](/media/dm/dm-webui-preview-en.png)

## アクセス方法

[OpenAPI](/dm/dm-open-api.md#maintain-dm-clusters-using-openapi) が有効になっている場合、DMクラスタの任意のマスターノードから DM WebUI にアクセスできます。アクセスポートはデフォルトで`8261`であり、DM OpenAPI と同じです。アクセスアドレスの例: `http://{master_ip}:{master_port}/dashboard/` です。

## マイグレーション

**マイグレーション** には **ソース**、**タスク**、**レプリケーション詳細** のページが含まれます。

### ソース

マイグレーションタスクを作成する前に、レプリケーションタスクのために上流のデータソース情報を作成する必要があります。**ソース** ページで上流構成を作成できます。ソースを作成する前に、次の項目に注意してください:

- プライマリとセカンダリのインスタンス間での自動フェイルオーバーがある場合、上流の MySQL で GTID を有効にし、上流構成を作成する際に GTID を `True` に設定してください。さもなければ、フェイルオーバー時にマイグレーションタスクが中断されます(AWS Aurora 以外)。
- MySQL インスタンスを一時的にオフラインにする必要がある場合は、そのインスタンスを無効にできます。ただし、MySQL インスタンスが無効になっている間に、他のマイグレーションタスクを実行している MySQL インスタンスが DDL 操作を実行してはいけません。そうしないと、無効になったインスタンスは有効になった後にデータを正しくマイグレーションできません。
- 複数のマイグレーションタスクが同じ上流を使用する場合、追加のストレスを引き起こす可能性があります。リレーログを有効にすることで上流に対する影響を軽減できるため、リレーログの有効化をおすすめします。

### タスク

**タスク** ページで、マイグレーションタスクの詳細を表示し、マイグレーションタスクを作成できます。

#### マイグレーションタスクの詳細を表示

タスクリストで、右側から詳細ページを表示するにはタスク名をクリックします。詳細ページでは、より詳細なタスクの状態情報が表示されます。このページでは、各サブタスクの状態と現在のマイグレーションタスクの構成情報を表示できます。

DMでは、マイグレーションタスクの各サブタスクは異なる段階である場合があります(完全なダンプ -> 完全なインポート（ロード） -> 増分レプリケーション（シンク）)。そのため、タスクの現在の段階はサブタスクの状態の統計で表示され、タスクの実行状態をよりよく理解できます。

#### マイグレーションタスクの作成

このページでマイグレーションタスクを作成するには、右上の**追加**ボタンをクリックします。次のいずれかの方法を使用してマイグレーションタスクを作成できます:

- WebUI 上の手順に従います。WebUI 上で必要な情報をステップバイステップで入力します。この方法は初心者や日常的な使用に適しています。
- 構成ファイルを使用します。JSON形式の構成ファイルを貼り付けたり書いたりしてマイグレーションタスクを作成します。この方法はより多くのパラメータを調整できるため、上級ユーザに適しています。

### レプリケーション詳細

**レプリケーション詳細** ページで、マイグレーションタスクに構成されたマイグレーションルールの状態を表示できます。このページでは、タスク、ソース、およびデータベース名でクエリできます。

クエリ結果には、上流テーブルと下流テーブルの対応する情報が含まれているため、ページの応答が遅くなる可能性がある場合は、`.*` を使用する際は注意してください。

## クラスタ

### メンバー

**メンバー** ページには、DMクラスタのすべてのマスターノードとワーカーノード、およびワーカーノードとソースとのバインディング関係が表示されます。