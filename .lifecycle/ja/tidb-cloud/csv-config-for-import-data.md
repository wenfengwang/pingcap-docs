---
title: データのインポートのためのCSV構成
summary: TiDB CloudのImport DataサービスでのCSV構成の使用方法を学びます。

# データのインポートのためのCSV構成

この文書は、TiDB CloudのImport DataサービスでのCSV構成を紹介しています。

以下は、TiDB CloudでImport Dataサービスを使用してCSVファイルをインポートする際のCSV構成ウィンドウです。詳細については、「[Amazon S3またはGCSからTiDB CloudにCSVファイルをインポートする](/tidb-cloud/import-csv-files.md)」を参照してください。

![CSV Configurations](/media/tidb-cloud/import-data-csv-config.png)

## セパレータ

- 定義：フィールドの区切り記号を定義します。1つ以上の文字である必要がありますが、空ではいけません。

- 一般的な値：

  * CSV（コンマ区切り値）の場合は`,`です。上記のスクリーンショットに示されているように、"1"、"Michael"、"male"は3つのフィールドを表します。
  * TSV（タブ区切り値）の場合は`"\t"`です。

- デフォルト値：`,`

## デリミタ

- 定義：引用符に使用するデリミタを定義します。**デリミタ**が空の場合、すべてのフィールドは引用符で囲まれません。

- 一般的な値：

  * `'"'` はダブルクォーテーションでフィールドを引用します。上記のスクリーンショットに示されているように、`"Michael","male"` は2つのフィールドを表します。2つのフィールドの間に`,`がある必要があります。データが`"Michael""male"`（`,`がない場合）、インポートタスクは解析に失敗します。データが`"Michael,male"`（ダブルクォーテーションが1つだけの場合）、1つのフィールドとして解析されます。
  * `''` は引用符を無効にします。

- デフォルト値：`"`

## ヘッダー付き

- 定義：*すべての*CSVファイルにヘッダー行が含まれているかどうかを定義します。**ヘッダー付き**が`True`の場合、最初の行が列名として使用されます。**ヘッダー付き**が`False`の場合、最初の行は通常のデータ行として扱われます。

- デフォルト値：`True`

## バックスラッシュエスケープ

- 定義：フィールド内のバックスラッシュをエスケープ文字として解析するかどうかを定義します。**バックスラッシュエスケープ**が`True`の場合、次のシーケンスが認識され変換されます:

    | シーケンス | 変換される文字           |
    |----------|--------------------------|
    | `\0`     | ヌル文字 (`U+0000`)  |
    | `\b`     | バックスペース (`U+0008`)       |
    | `\n`     | 改行 (`U+000A`)       |
    | `\r`     | キャリッジリターン (`U+000D`) |
    | `\t`     | タブ (`U+0009`)             |
    | `\Z`     | Windows EOF (`U+001A`)     |

    その他の場合（例: `\"`）は、バックスラッシュは削除され、次の文字(`"`)がフィールドに残ります。残った文字には特別な役割（例: 区切り記号）はありません、ただの通常の文字です。引用符はバックスラッシュをエスケープ文字として解析するかどうかに影響しません。

    次のフィールドを例に取ります。

    - 値が`True`の場合、`"nick name is \"Mike\""` は`nick name is "Mike"`として解析され、対象テーブルに書き込まれます。
    - 値が`False`の場合、`"nick name is \"` 、`Mike\` 、`""`の3つのフィールドとして解析されます。ただし、フィールドが互いに区切られていないため、正しく解析できません。

    標準のCSVファイルには、記録するフィールドに二重引用符が含まれる場合、エスケープのために二重引用符を使用する必要があります。この場合、`Backslash escape = True` を使用すると、解析エラーが発生し、`Backslash escape = False` を使用すると正しく解析されます。インポートされたフィールドがJSONコンテンツを含む場合が典型的なシナリオです。標準のCSV JSONフィールドは通常、以下のように保存されます。

    `"{""key1"":""val1"", ""key2"": ""val2""}"`

    この場合、`Backslash escape = False` を設定すると、次のようにフィールドがデータベースに正しくエスケープされます。

    `{"key1": "val1", "key2": "val2"}`

    CSVソースファイルの内容が次のようにJSONとして保存されている場合、`Backslash escape = True` を考慮してください。ただし、これはCSVの標準形式ではありません。

    `"{\"key1\": \"val1\", \"key2\":\"val2\" }"`

- デフォルト値：`True`