---
title: データアプリの管理
summary: TiDB Cloud コンソールでのデータアプリの作成、表示、変更、および削除方法の学習
---

# データアプリの管理

データサービス（ベータ）のデータアプリは、特定のアプリケーショ​​ンのデータにアクセスするためのエンドポイントのコレクションです。 API キーを使用して構成し、エンドポイントへのアクセスを制限できます。

このドキュメントでは、TiDB Cloud コンソールでのデータアプリの管理方法について説明します。 [**データサービス**](https://tidbcloud.com/console/data-service) ページでは、すべてのデータアプリ、エンドポイント、および API キーを管理できます。

## データアプリの作成

プロジェクト用のデータアプリを作成するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページで、左ペインの<MDSvgIcon name="icon-create-data-app" /> **Create DataApp**をクリックします。

    > **ヒント：**
    >
    > プロジェクトでの最初のデータアプリの場合は、ページの中央にある **Create Data App** をクリックします。

2. 名前、説明を入力し、アクセスするデータアプリを選択します。

3. （オプション）データアプリのエンドポイントを自動的に選択したGitHubリポジトリとブランチに展開するには、**Connect to GitHub** を有効にし、次の手順を実行します。

    1. **Install on GitHub** をクリックし、その後、指示に従って **TiDB Cloud Data Service** をターゲットリポジトリのアプリケーショ​​ンとしてインストールします。
    2. GitHubでアプリケーショ​​ンへのアクセスを承認するには、**Authorize** をクリックします。
    3. データアプリの構成ファイルを保存したいターゲットリポジトリ、ブランチ、およびディレクトリを指定します。

        > **注意：**
        >
        > - ディレクトリはスラッシュ（`/`）で始める必要があります。 たとえば、 `/mydata`。 指定したディレクトリがターゲットのリポジトリとブランチに存在しない場合、自動的に作成されます。
        > - リポジトリ、ブランチ、およびディレクトリの組み合わせは、データアプリ間で一意である必要があります。 指定されたパスが既に別のデータアプリで使用されている場合、代わりのパスを指定する必要があります。 そうでない場合、現在のデータアプリのTiDB Cloud コンソールで構成されたエンドポイントは、指定したパスのファ​​イルを上書きします。
        > - 指定したパスに別のデータアプリからコピーされた構成ファイルが含まれている場合、これらのファ​​イルを現在のデータアプリにインポートする場合は、[既存のデータアプリの構成をインポート](/tidb-cloud/data-service-manage-github-connection.md#import-configurations-of-an-existing-data-app)を参照してください。

4. **Create Data App** をクリックします。

    新しく作成されたデータアプリは一覧の先頭に追加されます。 新しいデータアプリのデフォルトの `untitled endpoint` が作成されます。

5. データアプリをGitHubに接続するように構成した場合は、指定したGitHubディレクトリを確認してください。 [データアプリの構成ファイル](/tidb-cloud/data-service-app-config-files.md) が `tidb-cloud-data-service` によってディレクトリにコミットされたことがわかります。 これは、データアプリがGitHubに正常に接続されていることを意味します。

    新しいデータアプリでは、**Auto Sync & Deployment** と **Review Draft** がデフォルトで有効になっているため、TiDB Cloud コンソールとGitHubの間でデータアプリの変更を簡単に同期し、デプロイ前に変更を確認できます。 GitHubの統合についての詳細は、[GitHub を使用してデータアプリの変更を自動的にデプロイ](/tidb-cloud/data-service-manage-github-connection.md)を参照してください。

## データアプリの設定

データアプリの名前、バージョン、または説明を編集し、そのGitHub接続、関連データソース、APIキー、エンドポイント、および展開を管理できます。

### データアプリのプロパティを編集する

データアプリの名前、バージョン、および説明を編集できます。 データアプリのプロパティを編集するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左ペインで、ターゲットのデータアプリ名をクリックして詳細を表示します。
3. **データアプリプロパティ** 領域で、<svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" color="gray.1"><path d="M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>、App名、バージョン、または説明を編集し、**Confirm** をクリックします。

### GitHub接続を管理する

詳細については、[GitHubを使用して自動的にデプロイ](/tidb-cloud/data-service-manage-github-connection.md)を参照してください。

### 関連データソースを管理する

データアプリに関連するクラスタを追加または削除できます。

クラスタをデータアプリにリンクするには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左ペインで、対象のデータアプリを検索し、その詳細を表示するためにクリックします。
3. **リンクされたデータソース** 領域で **Add Cluster** をクリックします。
4. 表示されるダイアログボックスでリストからクラスタを選択し、**追加** をクリックします。

データアプリからリンクされたクラスタを削除するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左ペインで、対象のデータアプリを検索し、その詳細を表示するためにクリックします。
3. **リンクされたデータソース** 領域で、データアプリから削除したい対象のリンクされたクラスタを見つけ、**ア​​クション** 列の**Delete** をクリックします。
4. 表示されるダイアログボックスで、削除を確認します。

リンクされたクラスタを削除すると、そのクラスタ自体は削除されませんが、データアプリ内の既存のエンドポイントはアクセスできなくなります。

### APIキーを管理する

詳細については、[APIキーを管理](/tidb-cloud/data-service-api-key.md)を参照してください。

### エンドポイントを管理する

詳細については、[エンドポイントの管理](/tidb-cloud/data-service-manage-endpoint.md)を参照してください。

### デプロイを管理する

デプロイを管理するには、次の手順を実行します。

1. プロジェクトの[**データサービス**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左ペインで、対象のデータアプリを検索し、その詳細を表示するためにクリックします。
3. **Deployment Configuration** 領域で **Config** をクリックします。 デプロイ構成のダイアログが表示されます。
4. ダイアログで、**Auto Sync & Deployment** と **Review Draft** の設定を選択します。

    - **Auto Sync & Deployment**
      
        - このオプションは、データアプリがGitHubに接続されている場合にのみ有効にできます。 詳細については、[GitHubを使用して自動的にデプロイ](/tidb-cloud/data-service-manage-github-connection.md)を参照してください。
        - 有効にすると、指定したGitHubディレクトリで行った変更は自動的にTiDB Cloudにデプロイされ、TiDB Cloudコンソールで行った変更もGitHubにプッシュされます。対応する展開およびコミット情報はData App展開履歴で確認できます。
        - 無効にすると、指定したGitHubディレクトリで行った変更は**TiDB Cloud**にデプロイされません。また、TiDB Cloudコンソールで行った変更も**GitHub**にプッシュされません。

    - **レビュードラフト**

        - 有効にすると、TiDB Cloudコンソールで行ったData Appの変更をデプロイ前にレビューできます。レビューに基づいて、変更をデプロイするか破棄するかを選択できます。
        - 無効にすると、TiDB Cloudコンソールで行ったData Appの変更は直接デプロイされます。

5. **アクション**列では、必要に応じて変更を編集または再デプロイできます。

## OpenAPI Specificationの使用

Data Service (beta)は、各Data AppのOpenAPI Specification 3.0の生成をサポートしており、標準化された形式でエンドポイントとやり取りできます。この仕様を使用して、標準化されたOpenAPIドキュメント、クライアントSDK、およびサーバースタブを生成できます。

### OpenAPI Specificationのダウンロード

Data AppのOpenAPI SpecificationをJSONまたはYAML形式でダウンロードする手順は次のとおりです。

1. プロジェクトの[**Data Service**](https://tidbcloud.com/console/data-service)ページに移動します。
2. 左ペインで対象のData Appの名前をクリックして詳細を表示します。
3. **API Specification**エリアで **Download** をクリックし、**JSON**または**YAML**を選択します。

    OpenAPI Specificationをダウンロードするのが初めての場合は、求められたときにリクエストを承認する必要があります。

4. その後、OpenAPI Specificationがローカルマシンにダウンロードされます。

### OpenAPIドキュメントの表示

Data Service (beta)は、各Data Appの自動生成されたOpenAPIドキュメントを提供します。このドキュメントでは、エンドポイント、パラメーター、応答を表示し、エンドポイントを試すことができます。

OpenAPIドキュメントにアクセスする手順は次のとおりです。

1. プロジェクトの[**Data Service**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左ペインで対象のData Appの名前をクリックして詳細を表示します。
3. ページの右上隅で **View API Docs** をクリックします。

    OpenAPI Specificationを使用するのが初めての場合は、求められたときにリクエストを承認する必要があります。

4. その後、OpenAPIドキュメントが新しいタブで開きます。ドキュメントでは以下の情報を表示できます。

    - Data Appの名前、バージョン、説明。
    - タグ別のエンドポイント。

5. (オプション)エンドポイントを試すには、次の手順を実行します。

    1. **Authorize**をクリックし、表示されるダイアログボックスでData Appの公開キーを**ユーザー名**、プライベートキーを**パスワード** と入力します。

        詳細は [APIキーの管理](/tidb-cloud/data-service-api-key.md) を参照してください。

    2. 対象のエンドポイントを見つけ、必要なパラメーターを指定して、**Try it out**をクリックします。**応答ボディ**で応答を表示できます。

  OpenAPIドキュメントの使用方法の詳細については、[Swagger UI](https://swagger.io/tools/swagger-ui/) を参照してください。

## Data Appの削除

> **注意:**
>
> Data Appを削除する前に、すべてのエンドポイントがオフラインであることを確認してください。そうでない場合、Data Appを削除できません。エンドポイントをアンデプロイするには、[エンドポイントをアンデプロイする](/tidb-cloud/data-service-manage-endpoint.md#undeploy-an-endpoint) を参照してください。

Data Appを削除する手順は次のとおりです。

1. プロジェクトの[**Data Service**](https://tidbcloud.com/console/data-service) ページに移動します。
2. 左ペインで対象のData Appを見つけ、その名前をクリックして詳細を表示します。
3. **危険なゾーン**エリアで、 **Delete Data App** をクリックします。確認のためのダイアログボックスが表示されます。
4. `<organization name>/<project name>/<data app name>`を入力し、**I understand, delete**をクリックします。

    Data Appが削除されると、Data App内の既存のエンドポイントおよびAPIキーも削除されます。このData AppがGitHubに接続されている場合、対応するGitHubリポジトリ内のファイルは削除されません。

## もっと詳しく

- [PostmanでData Appを実行する](/tidb-cloud/data-service-postman-integration.md)