---
title: マルチAZ展開による高可用性
summary: TiDB CloudはマルチAZ展開による高可用性をサポートしています。
---

# マルチAZ展開による高可用性

TiDBはRaftコンセンサスアルゴリズムを使用してデータを高可用性に保ち、Raftグループ内のストレージ全体で安全にレプリケーションされるようにします。データはストレージノード間で冗長にコピーされ、異なる可用性ゾーンに配置され、マシンやデータセンターの障害に対して保護されます。自動フェイルオーバーにより、TiDBは常にサービスが稼働していることを保証します。

TiDB Cloudクラスタは3つの主要なコンポーネントで構成されています：TiDBノード、TiKVノード、およびTiFlashノード。TiDB Dedicatedの各コンポーネントの高可用性実装は次のとおりです：

* **TiDBノード**

    TiDBは計算専用であり、データを保存しません。水平スケーラブルです。TiDB CloudはTiDBノードをリージョン内の異なる可用性ゾーンに均等に展開します。ユーザーがSQLリクエストを実行すると、リクエストはまず、可用性ゾーン全体に展開されたロードバランサを経由し、その後、ロードバランサはリクエストを実行するために異なるTiDBノードにリクエストを分散します。各TiDB Cloudクラスタには、高可用性のために少なくとも2つのTiDBノードを持つことが推奨されています。

* **TiKVノード**

    [TiKV](https://docs.pingcap.com/tidb/stable/tikv-overview)は、水平スケーラビリティを持つTiDB Cloudクラスタの行ベースのストレージレイヤです。TiDB Cloudでは、クラスタの最小のTiKVノード数は3です。TiDB CloudはTiKVノードをリージョン内のすべての可用性ゾーン（少なくとも3つ）に均等に展開し、耐久性と高可用性を実現します。典型的な3レプリカのセットアップでは、データはすべての可用性ゾーンに均等に分散され、各TiKVノードのディスクに永続化されます。

* **TiFlashノード**

    [TiFlash](https://docs.pingcap.com/tidb/stable/tiflash-overview)はTiKVの列指向ストレージ拡張であり、TiDBを実質的にハイブリッドトランザクショナル／アナリティカル処理（HTAP）データベースとします。TiFlashでは、列指向のレプリカはRaft Learnerコンセンサスアルゴリズムに従って非同期にレプリケートされます。TiDB CloudはTiFlashノードをリージョン内の異なる可用性ゾーンに均等に展開します。各TiDB Cloudクラスタには、プロダクション環境で高可用性のために少なくとも2つのTiFlashノードを構成し、データの少なくとも2つのレプリカを作成することが推奨されます。