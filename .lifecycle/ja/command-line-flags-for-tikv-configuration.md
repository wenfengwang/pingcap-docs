---
title: TiKV構成フラグ
summary: TiKVの構成フラグについて学びます。
aliases: ['/docs/dev/command-line-flags-for-tikv-configuration/','/docs/dev/reference/configuration/tikv-server/configuration/']
---

# TiKV構成フラグ

TiKVはコマンドラインパラメータのための読みやすい単位変換をサポートしています。

- ファイルサイズ（バイトベース）: KB、MB、GB、TB、PB（または小文字）
- 時間（ミリ秒ベース）: ms、s、m、h

## `-A, --addr`

- TiKVサーバーが監視するアドレス
- デフォルト: `"127.0.0.1:20160"`
- クラスタを展開するには、現在のホストのIPアドレスを指定するために`--addr`を使用する必要があります。例えば、`"192.168.100.113:20160"`のように指定します。クラスタをDockerで実行する場合は、DockerのIPアドレスを`"0.0.0.0:20160"`として指定してください。

## `--advertise-addr`

- クライアントトラフィック用のサーバー公表アドレス
- デフォルト: `${addr}`
- DockerまたはNATネットワークのためにクライアントが`--addr`アドレスを介してTiKVに接続できない場合は、`--advertise-addr`アドレスを手動で設定する必要があります。
- 例えば、Dockerの内部IPアドレスが172.17.0.1で、ホストのIPアドレスが192.168.100.113でポートマッピングが`-p 20160:20160`に設定されている場合、`--advertise-addr`を`"192.168.100.113:20160"`に設定します。クライアントはこのサービスを192.168.100.113:20160を介して見つけることができます。

## `--status-addr`

+ TiKVサービスのステータスが待機しているポート
+ デフォルト: `"20180"`
+ Prometheusは`http://host:status_port/metrics`を通じてこのステータス情報にアクセスできます。
+ Profileは`http://host:status_port/debug/pprof/profile`を通じてこのステータス情報にアクセスできます。

## `--advertise-status-addr`

- TiKVが外部からサービスのステータスにアクセスするためのアドレス
- デフォルト: `--status-addr`の値が使用されます。
- DockerまたはNATネットワークのためにクライアントが`--status-addr`アドレスを介してTiKVに接続できない場合は、`--advertise-status-addr`アドレスを手動で設定する必要があります。
- 例えば、Dockerの内部IPアドレスが`172.17.0.1`で、ホストのIPアドレスが`192.168.100.113`でポートマッピングが`-p 20180:20180`に設定されている場合、`--advertise-status-addr`を`"192.168.100.113:20180"`に設定します。クライアントはこのサービスを192.168.100.113:20180を介して見つけることができます。

## `-C, --config`

- 設定ファイル
- デフォルト: `""`
- コマンドラインで設定を行う場合、設定ファイル内の同じ設定値が上書きされます。

## `--capacity`

- ストアの容量
- デフォルト: `0`（無制限）
- PDはTiKVサーバーをどのようにバランスさせるかを決定するためにこのフラグを使用します。（ヒント: 1073741824の代わりに10GBを使用できます）

## `--config-info <FORMAT>`

- このフラグを使用すると、`FORMAT`に従って利用可能な構成値がリストされ、それに従って終了します。
- `FORMAT`の値のオプション: `json`。現在はJSON形式のみがサポートされています。
- 出力のJSONには構成名（名前）、デフォルト値（デフォルト値）、現在の値（ファイル内の値）のみがリストされます。`-C`または`--config`が指定されている場合、ファイル内の構成項目の現在の値とデフォルト値がまとめてリストされますが、`-C`または`--config`が指定されていない他の項目はデフォルト値のみがあります。以下は例です:

    ```json
    {
    "Component": "TiKV Server",
    "Version": "6.2.0",
    "Parameters": [
        {
        "Name": "log-level",
        "DefaultValue": "info",
        "ValueInFile": "warn"
        },
        {
        "Name": "log-file",
        "DefaultValue": ""
        },
        ...
    ]
    }
    ```

## `--data-dir`

- データディレクトリへのパス
- デフォルト: `"/tmp/tikv/store"`

## `-L`

- ログレベル
- デフォルト: `"info"`
- オプションの値: `"debug"`、`"info"`、`"warn"`、`"error"`、`"fatal"`

## `--log-file`

- ログファイル
- デフォルト: `""`
- このフラグが設定されていない場合、ログは"stderr"に書き込まれます。このフラグが設定されている場合、ログは対応するファイルに出力されます。

## `--pd`

- PDサーバーのアドレスリスト
- デフォルト: `""`
- TiKVが動作するために、TiKVサーバーをPDサーバーに接続するために`--pd`の値を使用する必要があります。複数のPDアドレスはカンマで区切って指定します。例: "192.168.100.113:2379, 192.168.100.114:2379, 192.168.100.115:2379"