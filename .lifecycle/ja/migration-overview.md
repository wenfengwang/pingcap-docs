---
title: データ移行の概要
summary: データ移行シナリオとそのソリューションの概要を学ぶ
---

# データ移行の概要

このドキュメントでは、TiDBで使用できるデータ移行ソリューションの概要を示します。データ移行のソリューションは以下のとおりです。

- フルデータ移行。
    - Amazon Auroraのスナップショット、CSVファイル、またはSQLダンプファイルをTiDBにインポートするには、TiDB Lightningを使用してフル移行を実行できます。
    - 全TiDBデータをCSVファイルまたはSQLダンプファイルとしてエクスポートするには、MySQLまたはMariaDBからのデータ移行を容易にするフル移行を実行するためにDumplingを使用できます。
    - データサイズが小さいデータボリュームを持つデータベースからすべてのデータを移行するには（たとえば、1 TiB未満）、TiDBデータ移行（DM）も使用できます。

- TiDBの素早い初期化。TiDB Lightningはデータの素早いインポートをサポートし、TiDB内の特定のテーブルを素早く初期化できます。この機能を使用する前に、素早い初期化がTiDBに大きな影響を及ぼし、初期化期間中はクラスタがサービスを提供しないことに注意してください。

- 増分レプリケーション。TiDB DMを使用して、MySQL、MariaDB、またはAuroraからバイナリログをTiDBにレプリケートでき、レプリケーション期間中のウィンドウダウンタイムを大幅に短縮できます。

- TiDBクラスタ間のデータレプリケーション。TiDBはバックアップとリストアをサポートしており、この機能を使用すると既存のTiDBクラスタでスナップショットを新しいTiDBクラスタに初期化できます。

- TiDBクラスタ間の増分レプリケーション。TiDBは災害復旧をサポートし、災害発生後、プライマリとセカンダリデータベースの最終的なデータの整合性を確保するために同種のデータベース間での増分レプリケーションを行います。これは両方のプライマリとセカンダリクラスタがTiDBである場合にのみ機能します。

データベースのタイプ、展開場所、アプリケーションのデータサイズ、およびアプリケーションの要件に応じて、異なる移行ソリューションを選択する場合があります。次のセクションでは一般的な移行シナリオを紹介し、それらのセクションを参照して、ニーズに応じて最適なソリューションを決定できます。

## Aurora MySQLからTiDBへのデータ移行

AuroraからAWSに展開されたTiDBクラスタへデータを移行する場合、データ移行にはフルデータ移行と増分レプリケーションの2つの操作が必要です。アプリケーションの要件に応じて、対応する操作を選択できます。

- [Amazon AuroraからTiDBへのデータ移行](/migrate-aurora-to-tidb.md)を参照してください。

## MySQLからTiDBへのデータ移行

クラウドストレージ（S3）サービスを使用していない場合、ネットワーク接続が良好でネットワークレイテンシが低い場合、[MySQLからTiDBへの小規模データセットの移行](/migrate-small-mysql-to-tidb.md)の手順に従ってMySQLからTiDBにデータを移行できます。

移行速度に要求が高い場合やデータサイズが大きい場合（たとえば、1 TiBを超える場合）、移行期間中に他のアプリケーションがTiDBに書き込むことを許可しない場合は、TiDB Lightningを使用してデータを素早くインポートできます。その後、アプリケーションの要件に応じて、増分データ（バイナリログ）をレプリケートするためにDMを使用できます。[MySQLからTiDBへの大規模データセットの移行](/migrate-large-mysql-to-tidb.md)を参照してください。

## MySQLシャードをTiDBに移行およびマージする

アプリケーションがデータ保存にMySQLシャードを使用し、これらのシャードをTiDBに1つのテーブルとして移行する必要がある場合、DMを使用してシャードの統合と移行を実行できます。

- [TiDBへの小規模MySQLシャードの移行とマージ](/migrate-small-mysql-shards-to-tidb.md)を参照してください。

シャードされたテーブルのデータサイズが大きい場合（たとえば、1 TiBを超える場合）で、移行期間中に他のアプリケーションがTiDBに書き込むことを許可しない場合は、TiDB Lightningを使用してシャードされたテーブルを素早くマージおよびインポートできます。その後、アプリケーションの要件に応じて、増分シャーディングデータ（バイナリログ）をレプリケートするためにDMを使用できます。[TiDBへの大規模MySQLシャードの移行とマージ](/migrate-large-mysql-shards-to-tidb.md)を参照してください。

## ファイルからTiDBへのデータ移行

- [CSVファイルからTiDBへのデータ移行](/migrate-from-csv-files-to-tidb.md)
- [SQLファイルからTiDBへのデータ移行](/migrate-from-sql-files-to-tidb.md)
- [ParquetファイルからTiDBへのデータ移行](/migrate-from-parquet-files-to-tidb.md)

## TiDBクラスタ間の増分レプリケーション

TiDBクラスタ間の増分データレプリケーションにはTiCDCが使用できます。詳細については、[TiCDC概要](/ticdc/ticdc-overview.md)を参照してください。

## より高度な移行ソリューション

以下の機能は移行プロセスを改善し、アプリケーションのさらなるニーズに対応する可能性があります。

- [gh-ostまたはpt-oscを使用するデータベースからの継続的なレプリケーション](/migrate-with-pt-ghost.md)
- [より多くの列を持つ下流TiDBテーブルへのデータ移行](/migrate-with-more-columns-downstream.md)
- [バイナリログイベントのフィルタリング](/filter-binlog-event.md)
- [SQL式を使用したDMLイベントのフィルタリング](/filter-dml-event.md)